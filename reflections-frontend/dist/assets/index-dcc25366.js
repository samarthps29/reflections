var _=Object.defineProperty;var E=(n,r,a)=>r in n?_(n,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[r]=a;var j=(n,r,a)=>(E(n,typeof r!="symbol"?r+"":r,a),a);import{r as d,j as t,R as I}from"./react-d39729e7.js";import{c as P}from"./react-dom-eb291ab4.js";import{a as S}from"./axios-4a70c6fc.js";import{o as M}from"./jwt-decode-9c18df67.js";import{E as q,t as e,u as H,T as U,H as X,C as Y,a as C,L as z,S as F,b as K}from"./@tiptap-330b5d3f.js";import{a as b,d as V,e as g}from"./react-router-bf3680b8.js";import{d as v}from"./dayjs-afe83796.js";import{L as G,B as J}from"./react-router-dom-e81c331d.js";import"./scheduler-765c72db.js";import"./prosemirror-state-d99efc48.js";import"./prosemirror-model-714031c1.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-4fc52813.js";import"./prosemirror-view-d12f7755.js";import"./prosemirror-keymap-8634b7a8.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-175c63be.js";import"./prosemirror-schema-list-771d4f75.js";import"./prosemirror-dropcursor-da1713bb.js";import"./prosemirror-gapcursor-5148966c.js";import"./prosemirror-history-1f4dfada.js";import"./rope-sequence-5ceeafee.js";import"./@remix-run-1dd2da88.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=a(l);fetch(l.href,s)}})();class Q{constructor(r,a){j(this,"endpoint");j(this,"apiClient");this.endpoint=r,this.apiClient=a}get(r){return this.apiClient.get(this.endpoint+r)}post(r,a){return this.apiClient.post(this.endpoint+r,a)}put(r,a){return this.apiClient.put(this.endpoint+"/"+r,a)}}const R=(n,r)=>new Q(n,r),W=()=>T.post("/api/user/refresh"),T=S.create({baseURL:""}),D=S.create({baseURL:"",withCredentials:!0});D.interceptors.request.use(n=>{const r=localStorage.getItem("accessToken"),a=new Date;let i,l;return r&&(i=M(r),l=i.exp),l&&l*1e3<a.getTime()||!r?W().then(c=>{c.data.accessToken&&(localStorage.setItem("accessToken",c.data.accessToken),n.headers.Authorization=`Bearer ${c.data.accessToken}`)}).catch(()=>{window.location.href="/login"}):n.headers.Authorization=`Bearer ${r}`,n});const N=R("/api/content",D),w=R("/api/user",T),Z=q.create({name:"smilieReplacer",addInputRules(){return[e({find:/-___- $/,replace:"😑 "}),e({find:/:'-\) $/,replace:"😂 "}),e({find:/':-\) $/,replace:"😅 "}),e({find:/':-D $/,replace:"😅 "}),e({find:/>:-\) $/,replace:"😆 "}),e({find:/-__- $/,replace:"😑 "}),e({find:/':-\( $/,replace:"😓 "}),e({find:/:'-\( $/,replace:"😢 "}),e({find:/>:-\( $/,replace:"😠 "}),e({find:/O:-\) $/,replace:"😇 "}),e({find:/0:-3 $/,replace:"😇 "}),e({find:/0:-\) $/,replace:"😇 "}),e({find:/0;\^\) $/,replace:"😇 "}),e({find:/O;-\) $/,replace:"😇 "}),e({find:/0;-\) $/,replace:"😇 "}),e({find:/O:-3 $/,replace:"😇 "}),e({find:/:'\) $/,replace:"😂 "}),e({find:/:-D $/,replace:"😃 "}),e({find:/':\) $/,replace:"😅 "}),e({find:/'=\) $/,replace:"😅 "}),e({find:/':D $/,replace:"😅 "}),e({find:/'=D $/,replace:"😅 "}),e({find:/>:\) $/,replace:"😆 "}),e({find:/>;\) $/,replace:"😆 "}),e({find:/>=\) $/,replace:"😆 "}),e({find:/;-\) $/,replace:"😉 "}),e({find:/\*-\) $/,replace:"😉 "}),e({find:/;-\] $/,replace:"😉 "}),e({find:/;\^\) $/,replace:"😉 "}),e({find:/B-\) $/,replace:"😎 "}),e({find:/8-\) $/,replace:"😎 "}),e({find:/B-D $/,replace:"😎 "}),e({find:/8-D $/,replace:"😎 "}),e({find:/:-\* $/,replace:"😘 "}),e({find:/:\^\* $/,replace:"😘 "}),e({find:/:-\) $/,replace:"🙂 "}),e({find:/-_- $/,replace:"😑 "}),e({find:/:-X $/,replace:"😶 "}),e({find:/:-# $/,replace:"😶 "}),e({find:/:-x $/,replace:"😶 "}),e({find:/>.< $/,replace:"😣 "}),e({find:/:-O $/,replace:"😮 "}),e({find:/:-o $/,replace:"😮 "}),e({find:/O_O $/,replace:"😮 "}),e({find:/>:O $/,replace:"😮 "}),e({find:/:-P $/,replace:"😛 "}),e({find:/:-p $/,replace:"😛 "}),e({find:/:-Þ $/,replace:"😛 "}),e({find:/:-þ $/,replace:"😛 "}),e({find:/:-b $/,replace:"😛 "}),e({find:/>:P $/,replace:"😜 "}),e({find:/X-P $/,replace:"😜 "}),e({find:/x-p $/,replace:"😜 "}),e({find:/':\( $/,replace:"😓 "}),e({find:/'=\( $/,replace:"😓 "}),e({find:/>:\\ $/,replace:"😕 "}),e({find:/>:\/ $/,replace:"😕 "}),e({find:/:-\/ $/,replace:"😕 "}),e({find:/:-. $/,replace:"😕 "}),e({find:/>:\[ $/,replace:"😞 "}),e({find:/:-\( $/,replace:"😞 "}),e({find:/:-\[ $/,replace:"😞 "}),e({find:/:'\( $/,replace:"😢 "}),e({find:/;-\( $/,replace:"😢 "}),e({find:/#-\) $/,replace:"😵 "}),e({find:/%-\) $/,replace:"😵 "}),e({find:/X-\) $/,replace:"😵 "}),e({find:/>:\( $/,replace:"😠 "}),e({find:/0:3 $/,replace:"😇 "}),e({find:/0:\) $/,replace:"😇 "}),e({find:/O:\) $/,replace:"😇 "}),e({find:/O=\) $/,replace:"😇 "}),e({find:/O:3 $/,replace:"😇 "}),e({find:/<\/3 $/,replace:"💔 "}),e({find:/:D $/,replace:"😃 "}),e({find:/=D $/,replace:"😃 "}),e({find:/;\) $/,replace:"😉 "}),e({find:/\*\) $/,replace:"😉 "}),e({find:/;\] $/,replace:"😉 "}),e({find:/;D $/,replace:"😉 "}),e({find:/B\) $/,replace:"😎 "}),e({find:/8\) $/,replace:"😎 "}),e({find:/:\* $/,replace:"😘 "}),e({find:/=\* $/,replace:"😘 "}),e({find:/:\) $/,replace:"🙂 "}),e({find:/=\] $/,replace:"🙂 "}),e({find:/=\) $/,replace:"🙂 "}),e({find:/:\] $/,replace:"🙂 "}),e({find:/:X $/,replace:"😶 "}),e({find:/:# $/,replace:"😶 "}),e({find:/=X $/,replace:"😶 "}),e({find:/=x $/,replace:"😶 "}),e({find:/:x $/,replace:"😶 "}),e({find:/=# $/,replace:"😶 "}),e({find:/:O $/,replace:"😮 "}),e({find:/:o $/,replace:"😮 "}),e({find:/:P $/,replace:"😛 "}),e({find:/=P $/,replace:"😛 "}),e({find:/:p $/,replace:"😛  "}),e({find:/=p $/,replace:"😛 "}),e({find:/:Þ $/,replace:"😛 "}),e({find:/:þ $/,replace:"😛 "}),e({find:/:b $/,replace:"😛 "}),e({find:/d: $/,replace:"😛 "}),e({find:/:\/ $/,replace:"😕 "}),e({find:/:\\ $/,replace:"😕 "}),e({find:/=\/ $/,replace:"😕 "}),e({find:/=\\ $/,replace:"😕 "}),e({find:/:L $/,replace:"😕 "}),e({find:/=L $/,replace:"😕 "}),e({find:/:\( $/,replace:"😞 "}),e({find:/:\[ $/,replace:"😞 "}),e({find:/=\( $/,replace:"😞 "}),e({find:/;\( $/,replace:"😢 "}),e({find:/D: $/,replace:"😨 "}),e({find:/:\$ $/,replace:"😳 "}),e({find:/=\$ $/,replace:"😳 "}),e({find:/#\) $/,replace:"😵 "}),e({find:/%\) $/,replace:"😵 "}),e({find:/X\) $/,replace:"😵 "}),e({find:/:@ $/,replace:"😠 "}),e({find:/<3 $/,replace:"❤️ "}),e({find:/\/shrug $/,replace:"¯\\_(ツ)_/¯"})]}});const ee=({editor:n})=>{if(!n)return null;const r=b();return t.jsx("div",{className:"flex flex-wrap justify-center text-[17px]",children:t.jsxs("div",{className:"fixed z-10 mt-8 flex gap-1 rounded-lg bg-[#363636] px-2 py-[5px] text-[#a1a1a1]",children:[t.jsx("button",{onClick:()=>n.chain().focus().toggleBold().run(),disabled:!n.can().chain().focus().toggleBold().run(),className:`${n.isActive("bold")?"is-active":""} rounded-md px-2 py-0.5`,children:"bold"}),t.jsx("button",{onClick:()=>n.chain().focus().toggleItalic().run(),disabled:!n.can().chain().focus().toggleItalic().run(),className:`${n.isActive("italic")?"is-active":""} rounded-md px-2 py-0.5 `,children:"italic"}),t.jsx("button",{onClick:()=>n.chain().focus().toggleCode().run(),disabled:!n.can().chain().focus().toggleCode().run(),className:`${n.isActive("code")?"is-active":""} rounded-md px-2 py-0.5 `,children:"code"}),t.jsx("button",{onClick:()=>n.chain().focus().unsetAllMarks().run(),className:"rounded-md px-2 py-0.5  ",children:"clrm"}),t.jsx("button",{onClick:()=>n.chain().focus().clearNodes().run(),className:"rounded-md px-2 py-0.5  ",children:"clrn"}),t.jsx("button",{onClick:()=>n.chain().focus().setParagraph().run(),className:`${n.isActive("paragraph")?"is-active":""} rounded-md    px-2 py-0.5 `,children:"paragraph"}),t.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:1}).run(),className:`${n.isActive("heading",{level:1})?"is-active":""} rounded-md    px-2 py-0.5 `,children:"heading"}),t.jsx("button",{onClick:()=>n.chain().focus().toggleBulletList().run(),className:`${n.isActive("bulletList")?"is-active":""} rounded-md    px-2 py-0.5 `,children:"bullet list"}),t.jsx("button",{onClick:()=>n.chain().focus().toggleCodeBlock().run(),className:`${n.isActive("codeBlock")?"is-active":""} rounded-md    px-2 py-0.5 `,children:"code block"}),t.jsx("button",{onClick:()=>n.chain().focus().toggleBlockquote().run(),className:`${n.isActive("blockquote")?"is-active":""} rounded-md    px-2 py-0.5 `,children:"blockquote"}),t.jsx("button",{onClick:()=>n.chain().focus().setHorizontalRule().run(),className:"rounded-md    px-2 py-0.5  ",children:"rule"}),t.jsx("button",{onClick:()=>n.chain().focus().undo().run(),disabled:!n.can().chain().focus().undo().run(),className:"rounded-md    px-2 py-0.5  ",children:"undo"}),t.jsx("button",{onClick:()=>n.chain().focus().redo().run(),disabled:!n.can().chain().focus().redo().run(),className:"rounded-md   px-2 py-0.5  ",children:"redo"}),t.jsx("button",{onClick:()=>n.chain().focus().toggleHighlight({color:"#b197fc"}).setColor(n!=null&&n.isActive("highlight",{color:"#b197fc"})?"":"#000000").run(),className:`${n.isActive("highlight",{color:"#b197fc"})?"is-active":""}
				rounded-md   px-2 py-0.5 `,children:"purple"}),t.jsx("button",{className:"rounded-md px-2 py-0.5  hover:border-0 hover:bg-[#da6888] hover:font-semibold hover:text-stone-900",onClick:()=>{w.get("/logout"),localStorage.removeItem("accessToken"),r("/login")},children:"logout"})]})})},te=({editorValue:n,setEditorValue:r,title:a,changeNote:i,setChangeNote:l})=>{const s=H({extensions:[U,X.configure({multicolor:!0}),Y.configure({types:[C.name,z.name]}),C.configure(),F.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}}),Z],onUpdate:({editor:f})=>{const u=f.getHTML();console.log(u),c(u)},content:n,editable:!0});d.useEffect(()=>{i&&(s==null||s.commands.setContent(n),l(!1))},[i]);const c=f=>{r(f)};return t.jsxs("div",{className:"flex min-h-screen w-full flex-col gap-5 bg-[#1f1f1f] ",children:[t.jsx(ee,{editor:s}),t.jsx("input",{className:"mx-8 mt-24 flex w-fit border-b-2 border-[#515151] bg-transparent text-xl font-semibold text-[#dadada]",placeholder:"title goes here",ref:a}),t.jsx(K,{spellCheck:!1,editor:s,className:"customScroll mx-8 mb-12 mt-2 text-lg leading-6 text-[#bcbcbc]"})]})},ne=()=>{const[n,r]=d.useState(""),a=d.useRef(null),i=d.useRef(null),[l,s]=d.useState([]),[c,f]=d.useState(!0),[u,x]=d.useState(!1),[m,A]=d.useState(""),[h,$]=d.useState(null),[O,y]=d.useState(!0),B=(o,p)=>{m!==""?N.put(m,{date:v().valueOf(),title:o,notesContent:p}).then(()=>{console.log("Updated Successfully!")}).catch(()=>{console.log("Could not update the content")}):N.post("/new",{date:v().valueOf(),title:o,notesContent:p}).then(()=>{console.log("Saved Successfully!")}).catch(()=>{console.log("Could not save the content")})};return t.jsxs("div",{className:"flex w-screen",children:[c&&t.jsxs("div",{className:"flex w-1/4 flex-col items-center border-r-[1px] border-[#515151] bg-[#1f1f1f]",children:[t.jsx("input",{className:"363636 mb-2 mt-8 h-fit w-4/5 rounded-lg bg-[#363636] px-2 py-[7px] text-[17px] font-semibold text-[#dadada]",placeholder:"Search",ref:a,onKeyDown:o=>{var p;o.key==="Enter"&&N.post("/",{title:(p=a.current)==null?void 0:p.value}).then(k=>{console.log(k.data[0]),s(k.data),y(!1)}).catch(()=>{s([])})}}),l.map(o=>t.jsxs("div",{className:"mt-4 w-11/12 items-start justify-center rounded-lg bg-[#444444] px-2 py-2",onClick:()=>{console.log("div clicked"),i.current.value=o.title,r(o.notesContent),A(o._id),x(!0),$(()=>o.date?v(o.date):null)},children:[t.jsx("p",{className:"text-[#e5e2e2]",children:o.title}),t.jsx("p",{className:"text-[#bcbcbc]",children:o.notesContent})]})),!O&&l.length===0&&t.jsx("div",{className:"mt-4 flex w-11/12 items-center justify-center text-[#a1a1a1]",children:"No results Found"})]}),t.jsx("div",{className:`flex ${c?"w-3/4":"w-full"}`,children:t.jsx(te,{title:i,editorValue:n,setEditorValue:r,changeNote:u,setChangeNote:x})}),t.jsxs("div",{className:"fixed bottom-0 flex w-full justify-between bg-[#3c3e41] px-1 py-[1.5px]",children:[t.jsxs("div",{className:"left-0 flex",children:[t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{f(o=>!o)},children:c?"Hide Search":"Show Search"}),t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{s([]),r(""),x(!0),i.current.value="",a.current.value="",$(null),y(!0)},children:"Clear"}),t.jsx("button",{className:"font-inter text-xs tracking-wider text-white",onClick:()=>{r(""),x(!0),i.current.value="",$(null)},children:"New"})]}),t.jsxs("div",{className:"right-0 flex",children:[t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{var o,p;(o=i.current)!=null&&o.value&&B((p=i.current)==null?void 0:p.value,n)},children:"Save"}),t.jsxs("p",{className:"font-inter text-xs tracking-wider text-white",children:["Last saved:"," ",h===null?"Never":h==null?void 0:h.format("DD-MMM-YYYY | HH:mm")]})]})]})]})},re="_bgi1_6v7ke_1",le="_bgi2_6v7ke_13",L={bgi1:re,bgi2:le},se=()=>{const n=d.useRef(null),r=d.useRef(null),a=b();return t.jsxs("div",{className:"flex items-center bg-[#1d1d1d]",children:[t.jsx("div",{className:"flex w-full flex-col items-center pr-2 sm:w-1/3",children:t.jsx("div",{className:"w-2/3",children:t.jsx("form",{onSubmit:i=>{var l,s;i.preventDefault(),w.post("/login",{userName:(l=n.current)==null?void 0:l.value,password:(s=r.current)==null?void 0:s.value}).then(c=>{c.data.accessToken&&(localStorage.setItem("accessToken",c.data.accessToken),localStorage.setItem("userName",n.current.value),a("/"))}).catch(c=>console.log(c))},children:t.jsxs("div",{className:"flex flex-col items-center gap-2 bg-transparent",children:[t.jsx("span",{className:"text-center font-serif text-xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Sign in to your account"}),t.jsx("input",{type:"text",className:"text-md w-full border-b-2 border-[#a4b8ce] border-opacity-30 bg-transparent pt-7 font-serif text-[#f0f8ff] focus:outline-none",placeholder:"Username",autoComplete:"username",ref:n,required:!0,spellCheck:!1}),t.jsx("input",{type:"password",className:"text-md w-full border-b-2 border-[#a4b8ce] border-opacity-30 bg-transparent pt-5 font-serif text-[#f0f8ff] focus:bg-transparent focus:outline-none",placeholder:"Password",autoComplete:"current-password",ref:r,required:!0,spellCheck:!1}),t.jsx("button",{className:"text-md mt-9 w-full rounded-md bg-[#038373] px-3 py-2 font-serif font-bold text-white",type:"submit",children:"Sign in"}),t.jsx("div",{className:"w-full text-center",children:t.jsxs("p",{className:"mt-5 font-inter text-sm font-semibold text-white",children:["Don't have an account yet,"," ",t.jsx(G,{className:"font-bold text-white underline decoration-white decoration-solid",to:"/signup",children:"sign up."})]})})]})})})}),t.jsx("div",{className:`relative flex h-screen w-0 overflow-hidden sm:w-2/3 ${L.bgi1} items-center justify-center`,children:t.jsx("div",{className:"flex h-1/3 w-2/3 items-center justify-center rounded-xl bg-stone-900 bg-opacity-50 text-center font-inter text-3xl/[30px] font-extrabold tracking-tighter text-white backdrop-blur-2xl md:text-4xl/[40px] xl:text-5xl/[50px]",children:t.jsx("p",{className:"px-5",children:"Minimalist Magic: Streamline Your Notes and Diary with Ease"})})})]})},ae=()=>{const n=d.useRef(null),r=d.useRef(null),a=d.useRef(null),i=d.useRef(null),l=b();return t.jsxs("div",{className:"flex items-center bg-[#1d1d1d]",children:[t.jsx("div",{className:"flex w-full flex-col items-center pr-2 sm:w-1/3",children:t.jsx("div",{className:"w-2/3",children:t.jsx("form",{onSubmit:s=>{var c,f,u,x;s.preventDefault(),w.post("/new",{name:(c=n.current)==null?void 0:c.value,email:(f=r.current)==null?void 0:f.value,userName:(u=a.current)==null?void 0:u.value,password:(x=i.current)==null?void 0:x.value}).then(()=>{console.log("User Created Succesfully"),l("/login")}).catch(m=>console.log(m))},children:t.jsxs("div",{className:"flex flex-col items-center gap-2 bg-transparent",children:[t.jsx("span",{className:"text-center font-serif text-xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Create a new account"}),t.jsx("input",{type:"text",className:"text-md w-full border-b-2 border-[#a4b8ce] border-opacity-30 bg-transparent pt-7 font-serif text-[#f0f8ff] focus:outline-none",placeholder:"Name",autoComplete:"off",ref:n,required:!0,spellCheck:!1}),t.jsx("input",{type:"text",className:"text-md w-full border-b-2 border-[#a4b8ce] border-opacity-30 bg-transparent pt-6 font-serif text-[#f0f8ff] focus:outline-none",placeholder:"Email",autoComplete:"off",ref:r,required:!0,spellCheck:!1}),t.jsx("input",{type:"text",className:"text-md w-full border-b-2 border-[#a4b8ce] border-opacity-30 bg-transparent pt-7 font-serif text-[#f0f8ff] focus:outline-none",placeholder:"Username",autoComplete:"username",ref:a,required:!0,spellCheck:!1}),t.jsx("input",{type:"password",className:"text-md w-full border-b-2 border-[#a4b8ce] border-opacity-30 bg-transparent pt-5 font-serif text-[#f0f8ff] focus:bg-transparent focus:outline-none",placeholder:"Password",autoComplete:"current-password",ref:i,required:!0,spellCheck:!1}),t.jsx("button",{className:"mt-9 w-full rounded-md bg-[#61a7ec] px-3 py-2 font-serif font-bold text-black",type:"submit",children:"Sign up"})]})})})}),t.jsx("div",{className:`relative flex h-screen w-0 overflow-hidden sm:w-2/3 ${L.bgi2} items-center justify-center`,children:t.jsx("div",{className:"flex h-1/3 w-2/3 items-center justify-center rounded-xl bg-stone-900 bg-opacity-50 text-center font-inter text-3xl/[30px] font-extrabold tracking-tighter text-white backdrop-blur-2xl md:text-4xl/[40px] xl:text-5xl/[50px] ",children:t.jsx("p",{className:"px-5",children:"Simplicity Redefined: Embrace the Beauty of Minimalist Notes and Diary"})})})]})},ce=()=>{const n=b();return d.useEffect(()=>{setTimeout(()=>{n("/",{replace:!0})},3e3)},[]),t.jsxs("div",{className:"flex h-screen w-screen flex-col items-center justify-center bg-[#222222]",children:[t.jsx("p",{className:"font-serif text-4xl font-bold text-white md:text-5xl lg:text-7xl",children:"404 Not Found"}),t.jsx("p",{className:"font-serif text-lg font-semibold text-white md:text-xl lg:text-2xl",children:"The page you are looking for does not exist."})]})};function ie(){return t.jsxs(V,{children:[t.jsx(g,{path:"/",element:t.jsx(ne,{})}),t.jsx(g,{path:"/login",element:t.jsx(se,{})}),t.jsx(g,{path:"/signup",element:t.jsx(ae,{})}),t.jsx(g,{path:"*",element:t.jsx(ce,{})})]})}P.createRoot(document.getElementById("root")).render(t.jsx(J,{children:t.jsx(I.StrictMode,{children:t.jsx(ie,{})})}));
