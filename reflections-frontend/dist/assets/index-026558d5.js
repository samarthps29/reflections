var ve=Object.defineProperty;var je=(s,n,a)=>n in s?ve(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var F=(s,n,a)=>(je(s,typeof n!="symbol"?n+"":n,a),a);import{r as i,j as e,R as $e}from"./react-d39729e7.js";import{c as Ne}from"./react-dom-eb291ab4.js";import{d as R}from"./dayjs-afe83796.js";import{a as W}from"./axios-28bc18a3.js";import{o as ke}from"./jwt-decode-9c18df67.js";import{E as ye,t,u as G,T as J,H as Q,C as ee,a as O,L as te,S as se,b as ne,c as le}from"./@tiptap-858bdebf.js";import{c as ae,p as re,j as ce}from"./highlight.js-ce00471d.js";import{c as ie}from"./lowlight-f028c058.js";import{a as T,b as X,d as Ce,e as Se,f as y}from"./react-router-6ab5a7f0.js";import{L as U,u as Re,B as Te}from"./react-router-dom-7f7eab61.js";import"./scheduler-765c72db.js";import"./prosemirror-state-d99efc48.js";import"./prosemirror-model-714031c1.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-4fc52813.js";import"./prosemirror-view-799f8507.js";import"./prosemirror-keymap-8634b7a8.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-175c63be.js";import"./prosemirror-schema-list-771d4f75.js";import"./prosemirror-dropcursor-da1713bb.js";import"./prosemirror-gapcursor-b46cb10f.js";import"./prosemirror-history-1f4dfada.js";import"./rope-sequence-5ceeafee.js";import"./@remix-run-1dd2da88.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}})();class Pe{constructor(n,a){F(this,"endpoint");F(this,"apiClient");this.endpoint=n,this.apiClient=a}get(n){return this.apiClient.get(this.endpoint+n)}post(n,a){return this.apiClient.post(this.endpoint+n,a)}put(n,a){return this.apiClient.put(this.endpoint+"/"+n,a)}delete(n){return this.apiClient.delete(this.endpoint+"/"+n)}}const oe=(s,n)=>new Pe(s,n),Be=()=>de.post("/api/user/refresh"),de=W.create({baseURL:""}),fe=W.create({baseURL:"",withCredentials:!0});fe.interceptors.request.use(s=>{const n=localStorage.getItem("accessToken"),a=new Date;let o,r;return n&&(o=ke(n),r=o.exp),r&&r*1e3<a.getTime()||!n?Be().then(d=>{d.data.accessToken&&(localStorage.setItem("accessToken",d.data.accessToken),s.headers.Authorization=`Bearer ${d.data.accessToken}`)}).catch(()=>{console.log("Session Expired/No access token"),window.location.href="/login"}):s.headers.Authorization=`Bearer ${n}`,s});const B=oe("/api/content",fe),A=oe("/api/user",de),ue=ye.create({name:"smilieReplacer",addInputRules(){return[t({find:/-___- $/,replace:"ðŸ˜‘ "}),t({find:/:'-\) $/,replace:"ðŸ˜‚ "}),t({find:/':-\) $/,replace:"ðŸ˜… "}),t({find:/':-D $/,replace:"ðŸ˜… "}),t({find:/>:-\) $/,replace:"ðŸ˜† "}),t({find:/-__- $/,replace:"ðŸ˜‘ "}),t({find:/':-\( $/,replace:"ðŸ˜“ "}),t({find:/:'-\( $/,replace:"ðŸ˜¢ "}),t({find:/>:-\( $/,replace:"ðŸ˜  "}),t({find:/O:-\) $/,replace:"ðŸ˜‡ "}),t({find:/0:-3 $/,replace:"ðŸ˜‡ "}),t({find:/0:-\) $/,replace:"ðŸ˜‡ "}),t({find:/0;\^\) $/,replace:"ðŸ˜‡ "}),t({find:/O;-\) $/,replace:"ðŸ˜‡ "}),t({find:/0;-\) $/,replace:"ðŸ˜‡ "}),t({find:/O:-3 $/,replace:"ðŸ˜‡ "}),t({find:/:'\) $/,replace:"ðŸ˜‚ "}),t({find:/:-D $/,replace:"ðŸ˜ƒ "}),t({find:/':\) $/,replace:"ðŸ˜… "}),t({find:/'=\) $/,replace:"ðŸ˜… "}),t({find:/':D $/,replace:"ðŸ˜… "}),t({find:/'=D $/,replace:"ðŸ˜… "}),t({find:/>:\) $/,replace:"ðŸ˜† "}),t({find:/>;\) $/,replace:"ðŸ˜† "}),t({find:/>=\) $/,replace:"ðŸ˜† "}),t({find:/;-\) $/,replace:"ðŸ˜‰ "}),t({find:/\*-\) $/,replace:"ðŸ˜‰ "}),t({find:/;-\] $/,replace:"ðŸ˜‰ "}),t({find:/;\^\) $/,replace:"ðŸ˜‰ "}),t({find:/B-\) $/,replace:"ðŸ˜Ž "}),t({find:/8-\) $/,replace:"ðŸ˜Ž "}),t({find:/B-D $/,replace:"ðŸ˜Ž "}),t({find:/8-D $/,replace:"ðŸ˜Ž "}),t({find:/:-\* $/,replace:"ðŸ˜˜ "}),t({find:/:\^\* $/,replace:"ðŸ˜˜ "}),t({find:/:-\) $/,replace:"ðŸ™‚ "}),t({find:/-_- $/,replace:"ðŸ˜‘ "}),t({find:/:-X $/,replace:"ðŸ˜¶ "}),t({find:/:-# $/,replace:"ðŸ˜¶ "}),t({find:/:-x $/,replace:"ðŸ˜¶ "}),t({find:/>.< $/,replace:"ðŸ˜£ "}),t({find:/:-O $/,replace:"ðŸ˜® "}),t({find:/:-o $/,replace:"ðŸ˜® "}),t({find:/O_O $/,replace:"ðŸ˜® "}),t({find:/>:O $/,replace:"ðŸ˜® "}),t({find:/:-P $/,replace:"ðŸ˜› "}),t({find:/:-p $/,replace:"ðŸ˜› "}),t({find:/:-Ãž $/,replace:"ðŸ˜› "}),t({find:/:-Ã¾ $/,replace:"ðŸ˜› "}),t({find:/:-b $/,replace:"ðŸ˜› "}),t({find:/>:P $/,replace:"ðŸ˜œ "}),t({find:/X-P $/,replace:"ðŸ˜œ "}),t({find:/x-p $/,replace:"ðŸ˜œ "}),t({find:/':\( $/,replace:"ðŸ˜“ "}),t({find:/'=\( $/,replace:"ðŸ˜“ "}),t({find:/>:\\ $/,replace:"ðŸ˜• "}),t({find:/>:\/ $/,replace:"ðŸ˜• "}),t({find:/:-\/ $/,replace:"ðŸ˜• "}),t({find:/:-. $/,replace:"ðŸ˜• "}),t({find:/>:\[ $/,replace:"ðŸ˜ž "}),t({find:/:-\( $/,replace:"ðŸ˜ž "}),t({find:/:-\[ $/,replace:"ðŸ˜ž "}),t({find:/:'\( $/,replace:"ðŸ˜¢ "}),t({find:/;-\( $/,replace:"ðŸ˜¢ "}),t({find:/#-\) $/,replace:"ðŸ˜µ "}),t({find:/%-\) $/,replace:"ðŸ˜µ "}),t({find:/X-\) $/,replace:"ðŸ˜µ "}),t({find:/>:\( $/,replace:"ðŸ˜  "}),t({find:/0:3 $/,replace:"ðŸ˜‡ "}),t({find:/0:\) $/,replace:"ðŸ˜‡ "}),t({find:/O:\) $/,replace:"ðŸ˜‡ "}),t({find:/O=\) $/,replace:"ðŸ˜‡ "}),t({find:/O:3 $/,replace:"ðŸ˜‡ "}),t({find:/<\/3 $/,replace:"ðŸ’” "}),t({find:/:D $/,replace:"ðŸ˜ƒ "}),t({find:/=D $/,replace:"ðŸ˜ƒ "}),t({find:/;\) $/,replace:"ðŸ˜‰ "}),t({find:/\*\) $/,replace:"ðŸ˜‰ "}),t({find:/;\] $/,replace:"ðŸ˜‰ "}),t({find:/;D $/,replace:"ðŸ˜‰ "}),t({find:/B\) $/,replace:"ðŸ˜Ž "}),t({find:/8\) $/,replace:"ðŸ˜Ž "}),t({find:/:\* $/,replace:"ðŸ˜˜ "}),t({find:/=\* $/,replace:"ðŸ˜˜ "}),t({find:/:\) $/,replace:"ðŸ™‚ "}),t({find:/=\] $/,replace:"ðŸ™‚ "}),t({find:/=\) $/,replace:"ðŸ™‚ "}),t({find:/:\] $/,replace:"ðŸ™‚ "}),t({find:/:X $/,replace:"ðŸ˜¶ "}),t({find:/:# $/,replace:"ðŸ˜¶ "}),t({find:/=X $/,replace:"ðŸ˜¶ "}),t({find:/=x $/,replace:"ðŸ˜¶ "}),t({find:/:x $/,replace:"ðŸ˜¶ "}),t({find:/=# $/,replace:"ðŸ˜¶ "}),t({find:/:O $/,replace:"ðŸ˜® "}),t({find:/:o $/,replace:"ðŸ˜® "}),t({find:/:P $/,replace:"ðŸ˜› "}),t({find:/=P $/,replace:"ðŸ˜› "}),t({find:/:p $/,replace:"ðŸ˜›  "}),t({find:/=p $/,replace:"ðŸ˜› "}),t({find:/:Ãž $/,replace:"ðŸ˜› "}),t({find:/:Ã¾ $/,replace:"ðŸ˜› "}),t({find:/:b $/,replace:"ðŸ˜› "}),t({find:/d: $/,replace:"ðŸ˜› "}),t({find:/:\/ $/,replace:"ðŸ˜• "}),t({find:/:\\ $/,replace:"ðŸ˜• "}),t({find:/=\/ $/,replace:"ðŸ˜• "}),t({find:/=\\ $/,replace:"ðŸ˜• "}),t({find:/:L $/,replace:"ðŸ˜• "}),t({find:/=L $/,replace:"ðŸ˜• "}),t({find:/:\( $/,replace:"ðŸ˜ž "}),t({find:/:\[ $/,replace:"ðŸ˜ž "}),t({find:/=\( $/,replace:"ðŸ˜ž "}),t({find:/;\( $/,replace:"ðŸ˜¢ "}),t({find:/D: $/,replace:"ðŸ˜¨ "}),t({find:/:\$ $/,replace:"ðŸ˜³ "}),t({find:/=\$ $/,replace:"ðŸ˜³ "}),t({find:/#\) $/,replace:"ðŸ˜µ "}),t({find:/%\) $/,replace:"ðŸ˜µ "}),t({find:/X\) $/,replace:"ðŸ˜µ "}),t({find:/:@ $/,replace:"ðŸ˜  "}),t({find:/<3 $/,replace:"â¤ï¸ "}),t({find:/\/shrug $/,replace:"Â¯\\_(ãƒ„)_/Â¯"})]}});const z=ie();z.register("cpp",ae);z.register("py",re);z.register("js",ce);const Ae=({editor:s})=>{if(!s)return null;const n=T();return e.jsx("div",{className:"flex justify-center text-[17px]",children:e.jsxs("div",{className:"customScroll mx-8 mt-8 flex gap-1 overflow-auto rounded-lg bg-[#363636] px-1 py-[5px] text-[#a1a1a1]",children:[e.jsx("button",{onClick:()=>s.chain().focus().toggleBold().run(),disabled:!s.can().chain().focus().toggleBold().run(),className:`flex ${s.isActive("bold")?"is-active":""} rounded-md px-2 py-0.5`,children:"bold"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleItalic().run(),disabled:!s.can().chain().focus().toggleItalic().run(),className:`flex ${s.isActive("italic")?"is-active":""} rounded-md px-2 py-0.5 `,children:"italic"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleStrike().run(),disabled:!s.can().chain().focus().toggleStrike().run(),className:`flex ${s.isActive("strike")?"is-active":""} rounded-md px-2 py-0.5`,children:"strike"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleCode().run(),disabled:!s.can().chain().focus().toggleCode().run(),className:`flex ${s.isActive("code")?"is-active":""} rounded-md px-2 py-0.5 `,children:"code"}),e.jsx("button",{onClick:()=>s.chain().focus().setParagraph().run(),className:`${s.isActive("paragraph")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"paragraph"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleBulletList().run(),className:`${s.isActive("bulletList")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"bulletlist"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleOrderedList().run(),className:`${s.isActive("orderedList")?"is-active":""} rounded-md    px-2 py-0.5 `,children:"orderedlist"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleCodeBlock().run(),className:`${s.isActive("codeBlock")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"codeblock"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleBlockquote().run(),className:`${s.isActive("blockquote")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"blockquote"}),e.jsx("button",{onClick:()=>s.chain().focus().setHorizontalRule().run(),className:"flex rounded-md px-2 py-0.5  ",children:"horizontalrule"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleHeading({level:3}).run(),className:`${s.isActive("heading",{level:3})?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"h1"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleHeading({level:4}).run(),className:`${s.isActive("heading",{level:4})?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"h2"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleHighlight({color:"#b197fc"}).setColor(s!=null&&s.isActive("highlight",{color:"#b197fc"})?"":"#000000").run(),className:`${s.isActive("highlight",{color:"#b197fc"})?"is-active":""}
				flex rounded-md px-2 py-0.5`,children:"purple"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleHighlight({color:"#74c0fc"}).setColor(s!=null&&s.isActive("highlight",{color:"#74c0fc"})?"":"#000000").run(),className:`${s.isActive("highlight",{color:"#74c0fc"})?"is-active":""} flex rounded-md px-2 py-0.5`,children:"blue"}),e.jsx("button",{onClick:()=>s.chain().focus().toggleHighlight({color:"#0ec3ac"}).setColor(s!=null&&s.isActive("highlight",{color:"#0ec3ac"})?"":"#000000").run(),className:`${s.isActive("highlight",{color:"#0ec3ac"})?"is-active":""} flex rounded-md px-2 py-0.5`,children:"teal"}),e.jsx("button",{onClick:()=>s.chain().focus().unsetAllMarks().run(),className:"flex rounded-md px-2 py-0.5  ",children:"clearmarks"}),e.jsx("button",{onClick:()=>s.chain().focus().clearNodes().run(),className:"flex rounded-md px-2 py-0.5  ",children:"clearnodes"}),e.jsx("button",{onClick:()=>s.chain().focus().undo().run(),disabled:!s.can().chain().focus().undo().run(),className:"flex rounded-md px-2 py-0.5  ",children:"undo"}),e.jsx("button",{onClick:()=>s.chain().focus().redo().run(),disabled:!s.can().chain().focus().redo().run(),className:"flex rounded-md px-2 py-0.5  ",children:"redo"}),e.jsx("button",{className:"logoutBtn flex rounded-md px-2 py-0.5 hover:border-0 hover:bg-[#da6888] hover:text-stone-900",onClick:()=>{A.get("/logout"),localStorage.removeItem("userName"),localStorage.removeItem("recentsCount"),localStorage.removeItem("accessToken"),n("/login")},children:"logout"})]})})},Le=({editorValue:s,setEditorValue:n,title:a,changeNote:o,setChangeNote:r})=>{const c=G({extensions:[J,Q.configure({multicolor:!0}),ee.configure({types:[O.name,te.name]}),O.configure(),se.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1},codeBlock:!1,dropcursor:!1,gapcursor:!1,hardBreak:!1}),ue,ne.configure({languageClassPrefix:"language-",lowlight:z})],onUpdate:({editor:f})=>{const p=f.getHTML();d(p)},content:s,editable:!0});i.useEffect(()=>{o&&(c==null||c.commands.setContent(s),r(!1))},[o]);const d=f=>{n(f)};return e.jsxs("div",{className:"customScroll flex h-full w-full flex-col gap-5 overflow-auto bg-[#1e1e1e]",children:[e.jsx(Ae,{editor:c}),e.jsx("input",{className:"mx-8 mt-8 flex w-1/2 border-b-2 border-[#515151] bg-transparent text-xl font-semibold text-[#dadada] sm:w-2/5 md:w-1/4",placeholder:"title goes here",ref:a,spellCheck:"false"}),e.jsx(le,{spellCheck:!1,editor:c,className:"customScroll mx-8 mb-12 mt-2 font-inter text-lg leading-6 text-[#c0c0c0]"})]})},Z=({message:s,textBtnA:n,textBtnB:a,functionA:o,functionB:r})=>e.jsxs("div",{className:"text-md fixed bottom-10 right-4 flex flex-col justify-center gap-3 rounded-lg bg-[#444444] px-4 py-3 font-semibold text-[#e3e3e3]",children:[s,e.jsxs("div",{className:"flex justify-end gap-2 font-semibold",children:[e.jsx("button",{className:"rounded-md bg-[#292929] px-2 py-[5px] hover:bg-[#FF6969] hover:text-black",onClick:o,children:n}),e.jsx("button",{className:"rounded-md bg-[#292929] px-2 py-[5px] hover:bg-[#8de86b] hover:text-black",onClick:r,children:a})]})]}),De=({sideBarText:s,clearText:n,newText:a,deleteText:o,readingModeText:r,saveStatusText:c,saveTimeText:d,sideBarFunction:f,clearFunction:p,newFunction:g,deleteFunction:j,readingModeFunction:b,saveStatusFunction:x,enableSave:v,enableDelete:$,enableReadingMode:w})=>e.jsxs("div",{className:"fixed bottom-0 flex w-full justify-between bg-[#3c3e41] px-1 py-[1.5px]",children:[e.jsxs("div",{className:"left-0 flex",children:[e.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:f,children:s}),e.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:p,children:n}),e.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:g,children:a}),e.jsx("button",{className:"font-inter text-xs tracking-wider text-white",onClick:j,disabled:$,children:o})]}),e.jsxs("div",{className:"right-0 flex",children:[e.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:b,disabled:w,children:r}),e.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:x,disabled:v,children:c}),e.jsxs("p",{className:"font-inter text-xs tracking-wider text-white",children:["Last saved: ",d]})]})]}),Ie=({bgColor:s,textA:n,textB:a,lastEditTime:o,key:r,onClick:c})=>e.jsxs("div",{className:`mb-3 w-full items-start justify-center rounded-lg ${s} px-2 py-2 hover:bg-[#4b4b4b]`,onClick:c,children:[e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("p",{className:"text-[#e5e2e2]",children:n}),e.jsxs("p",{className:"text-[#bcbcbc]",children:["#",a]})]}),e.jsxs("p",{className:"text-[#bcbcbc]",children:["Last Edited : ",o]})]},r),Ee=()=>{const[s,n]=i.useState(""),a=i.useRef(null),o=i.useRef(null),[r,c]=i.useState([]),[d,f]=i.useState([]),[p,g]=i.useState(()=>!(window.innerWidth<=600)),[j,b]=i.useState(!1),[x,v]=i.useState(""),[$,w]=i.useState(null),[C,H]=i.useState(0),[xe,P]=i.useState(!1),[V,N]=i.useState("Save"),[pe,D]=i.useState(!1),[me,L]=i.useState(!1),[Je,k]=i.useState(""),[S,I]=i.useState(()=>{const l=localStorage.getItem("recentsCount"),u=1e7;return l!==null?parseInt(l,10):(localStorage.setItem("recentsCount",u.toString()),u)}),he=T(),q=X();function K(l,u,m=!1){if(!l)return;const h=R();x!==""?(N("Saving"),B.put(x,{date:h.valueOf(),title:l,notesContent:u}).then(()=>{!m&&w(h),!m&&k(u),f(E=>E.map(M=>M._id===x?{_id:x,notesContent:u,title:l,date:h}:M)),Y(),setTimeout(()=>{N("Save Successful!"),setTimeout(()=>{N("Save")},1e3)},1e3)}).catch(()=>{setTimeout(()=>{N("Save Unsuccessful!"),setTimeout(()=>{N("Save")},1e3)},1e3)})):(N("Saving"),B.post("/new",{date:h.valueOf(),title:l,notesContent:u}).then(E=>{!m&&v(E.data.id),!m&&k(u),!m&&w(h),f(M=>[...M,{_id:E.data.id,notesContent:u,title:l,date:h}]),Y(),setTimeout(()=>{N("Save Successful!"),setTimeout(()=>{N("Save")},1e3)},1e3)}).catch(()=>{setTimeout(()=>{N("Save Unsuccessful!"),setTimeout(()=>{N("Save")},1e3)},1e3)}))}function ge(){B.delete(x).then(()=>{k(""),n(""),b(!0),o.current.value="",w(null),f(d.filter(l=>l._id!==x)),v(""),console.log("Content Removed Successfully")}).catch(()=>{console.log("An error occurred")}),D(!1)}function be(){return new Promise(l=>{const u=setInterval(()=>{let m=!0;L(h=>(m=h,h)),m||(clearInterval(u),l("resolve confirmed"))},100)})}function Y(){f(l=>l.sort((u,m)=>R(m.date).valueOf()-R(u.date).valueOf()))}function we(l){let u="",m="";k(h=>(u=h,h)),n(h=>(m=h,h)),u!==m?(L(!0),be().then(()=>{o.current.value=l.title,n(l.notesContent),k(l.notesContent),v(l._id),b(!0),w(()=>l.date?R(l.date):null)})):(o.current.value=l.title,n(l.notesContent),k(l.notesContent),v(l._id),b(!0),w(()=>l.date?R(l.date):null))}return i.useEffect(()=>{P(!0),B.get("/recents").then(l=>{P(!1),f(l.data)}).catch(()=>{P(!1),f([])})},[]),i.useEffect(()=>{q.state!==null&&q.state.noteID!==null&&(B.get("/search/"+q.state.noteID).then(l=>{v(l.data._id),n(l.data.notesContent),b(!0),o.current.value=l.data.title,w(R(l.data.date)),k(l.data.notesContent)}).catch(l=>{console.log("An error occurred",l)}),window.history.replaceState({noteID:null},document.title))},[]),i.useEffect(()=>{localStorage.setItem("recentsCount",S.toString())},[S]),e.jsxs("div",{className:"min-w-screen flex h-screen justify-center",onKeyDown:l=>{l.key==="Escape"&&(D(!1),L(!1))},children:[pe&&e.jsx(Z,{message:"Are you sure you want to delete this note?",textBtnA:"Delete",textBtnB:"Cancel",functionA:ge,functionB:()=>D(!1)}),me&&e.jsx(Z,{message:"Changes made to the note are not saved",textBtnA:"Discard",textBtnB:"Save",functionA:()=>{L(!1)},functionB:()=>{var l,u;(l=o.current)!=null&&l.value&&K((u=o.current)==null?void 0:u.value,s,!0),L(!1)}}),p&&e.jsxs("div",{className:"lg:1/4 md:1/3 flex h-screen w-3/4 flex-col items-center border-r-[1px] border-[#515151] bg-[#1e1e1e] sm:w-2/5",children:[e.jsx("input",{className:"363636 mb-2 mt-8 h-fit w-4/5 rounded-lg bg-[#363636] px-2 py-[7px] text-[17px] font-semibold text-[#dadada]",placeholder:"Search",spellCheck:"false",ref:a,onKeyDown:l=>{l.key==="Enter"&&(c([]),P(!0),H(1),setTimeout(()=>{var u;B.post("/search",{title:(u=a.current)==null?void 0:u.value}).then(m=>{P(!1),c(m.data)}).catch(()=>{P(!1),c([])})},700))}}),e.jsx("div",{className:"flex h-full w-full flex-col items-center overflow-auto",children:e.jsxs("div",{className:"flex h-full w-11/12 flex-col items-start",children:[e.jsxs("div",{className:"mb-2 mt-4 flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex whitespace-pre-wrap text-sm text-[#a1a1a1]",children:[e.jsxs("button",{className:`${C===0&&"font-semibold text-[#dadada]"}`,onClick:()=>H(0),children:["Recents"," "]})," ","|"," ",e.jsx("button",{className:`${C===1&&"font-semibold text-[#dadada]"}`,onClick:()=>H(1),children:"Results"})]}),e.jsxs("div",{className:"flex whitespace-pre-wrap text-[#a1a1a1]",children:[e.jsxs("button",{className:`${S===5?"text-[#dadada]":""}`,onClick:()=>{I(5)},children:["5"," "]}),e.jsxs("button",{className:`${S===10?"text-[#dadada]":""}`,onClick:()=>{I(10)},children:["10"," "]}),e.jsxs("button",{className:`${S===15?"text-[#dadada]":""}`,onClick:()=>{I(15)},children:["15"," "]}),e.jsxs("button",{className:`${S===1e7?"text-[#dadada]":""}`,onClick:()=>{I(1e7)},children:["INF"," "]})]})]}),e.jsx("div",{className:"customScroll flex h-fit w-full flex-col overflow-auto",children:(C===0?d:r).slice(0,S).map((l,u)=>e.jsx(Ie,{onClick:()=>we(l),bgColor:x===l._id?"bg-[#4b4b4b]":"bg-[#333333]",textA:l.title,textB:u+1,lastEditTime:R(l.date).format("DD-MMM, HH:mm")},l._id))}),C===0&&d.length===0||C===1&&r.length===0?e.jsx("div",{className:"mt-4 flex w-11/12 items-center justify-center text-[#a1a1a1]",children:xe?"Loading":"Nothing Here"}):e.jsx("div",{className:"flex w-full pt-8"})]})})]}),e.jsx("div",{className:`flex ${p?"w-1/4 sm:w-3/5 md:w-2/3 lg:w-3/4":"w-full"}`,children:e.jsx(Le,{title:o,editorValue:s,setEditorValue:n,changeNote:j,setChangeNote:b})}),e.jsx(De,{sideBarText:p?"Hide Sidebar":"Show Sidebar",sideBarFunction:()=>{g(l=>!l)},clearText:"Clear",clearFunction:()=>{c([]),n(""),b(!0),v(""),k(""),o.current.value="",a.current.value="",w(null)},newText:"New",newFunction:()=>{n(""),b(!0),o.current.value="",v(""),k(""),w(null)},deleteText:"Delete",deleteFunction:()=>{D(!0)},enableDelete:x==="",readingModeText:"Reading Mode",readingModeFunction:()=>{var l;he(`${x}/reader`,{state:{title:(l=o.current)==null?void 0:l.value,value:s}})},enableReadingMode:x==="",saveStatusText:V,saveStatusFunction:()=>{var l,u;(l=o.current)!=null&&l.value&&K((u=o.current)==null?void 0:u.value,s)},enableSave:V!=="Save",saveTimeText:$===null?"Never":$==null?void 0:$.format("DD-MMM-YYYY | HH:mm")})]})},_=ie();_.register("cpp",ae);_.register("py",re);_.register("js",ce);const Me=()=>{var d,f;const s=Ce(),n=X(),a=(d=n.state)==null?void 0:d.value,o=(f=n.state)==null?void 0:f.title,r=s.id,c=G({extensions:[J,Q.configure({multicolor:!0}),ee.configure({types:[O.name,te.name]}),O.configure(),se.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1},codeBlock:!1}),ne.configure({languageClassPrefix:"language-",lowlight:_}),ue],content:a,editable:!1});return e.jsxs("div",{className:"min-w-screen flex min-h-screen justify-center bg-[#1f1f1f]",children:[e.jsx(U,{to:"/",state:{noteID:r},className:"fixed bottom-3 left-3 font-inter text-xs font-semibold text-[#e2e2e2]",children:"Back"}),e.jsxs("div",{className:"flex min-h-full w-11/12 flex-col bg-[#363636] px-8 py-6 font-inter text-white sm:w-4/5 md:w-3/4",children:[e.jsx("p",{className:"flex w-1/2 border-b-2 border-[#a3a3a3] bg-transparent text-xl font-semibold text-[#e8e8e8] sm:w-2/5 md:w-1/4",children:o}),e.jsx(le,{className:"mt-6 text-[#e9e9e9]",editor:c,spellCheck:"false"})]})]})},Oe=/^[a-zA-Z0-9_]+$/,ze=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,_e=()=>{const s=i.useRef(null),[n,a]=i.useState("Send email"),[o,r]=i.useState(!1),c=T();return e.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-[#1c1c1c]",children:[e.jsx("div",{className:"fixed -top-20 left-20 z-0 rotate-180 -scale-x-100 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"fixed -bottom-20 right-20 z-0 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"z-10 flex w-3/4 flex-col items-center justify-center sm:w-1/2 md:w-[45%] lg:w-1/4",children:e.jsxs("form",{name:"resetpasswordform",onSubmit:d=>{d.preventDefault();let f={};const p=ze.test(s.current.value),g=Oe.test(s.current.value);p||g?(p?f.email=s.current.value:f.userName=s.current.value,a("Loading..."),A.put("/resetPassword",{...f}).then(()=>{a("Send email"),c("/message",{state:{message:"Password Reset Link has been sent to your mail.",secondaryMessage:"Check your spam folder as well."}})}).catch(()=>{r(!0),console.log("Could not send password reset link")})):r(!0)},children:[e.jsx("div",{className:"mb-8 text-center font-serif text-xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Reset your password"}),e.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Username",autoComplete:"off",ref:s,required:!0,spellCheck:!1}),e.jsx("button",{className:`mt-6 w-full rounded-md bg-[#61a7ec] px-3 py-2 font-serif font-bold ${o?"bg-[#89375f] text-white":"bg-[#61a7ec] text-black"}`,type:"submit",disabled:n!=="Send email",children:n})]})})]})},He=/^[a-zA-Z0-9_]+$/,qe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Fe=()=>{const s=i.useRef(null),n=i.useRef(null),[a,o]=i.useState(!1),[r,c]=i.useState("Sign in"),d=T();return e.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-[#1c1c1c]",children:[e.jsx("div",{className:"fixed -top-20 left-20 z-0 rotate-180 -scale-x-100 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"fixed -bottom-20 right-20 z-0 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"z-10 flex w-3/4 flex-col items-center justify-center sm:w-1/2 md:w-[45%] lg:w-1/4",children:e.jsxs("form",{name:"loginform",onSubmit:f=>{var b;f.preventDefault();let p={};const g=qe.test(s.current.value),j=He.test(s.current.value);g||j?(g?p.email=s.current.value:p.userName=s.current.value,c("Loading..."),A.post("/login",{...p,password:(b=n.current)==null?void 0:b.value}).then(x=>{c("Sign in"),x.data.accessToken&&(localStorage.setItem("accessToken",x.data.accessToken),localStorage.setItem("userName",s.current.value),d("/"))}).catch(x=>{console.log(x.response.data.message),c("Sign in"),o(!0)})):o(!0)},children:[e.jsx("div",{className:"mb-8 w-full justify-center text-center font-serif text-2xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Sign in to your Account"}),e.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Username",autoComplete:"username",ref:s,required:!0,spellCheck:!1}),e.jsx("input",{type:"password",className:"text-md w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Password",autoComplete:"current-password",ref:n,required:!0,spellCheck:!1}),e.jsx("button",{className:`text-md mt-6 w-full rounded-md ${a?"bg-[#89375f] text-white":"bg-[#61a7ec] text-black"} px-3 py-2 font-serif font-bold `,type:"submit",disabled:r!=="Sign in",children:r}),e.jsx("div",{className:"mt-1 flex w-full justify-end",children:e.jsx(U,{className:"font-serif text-xs text-[#e9e9e9]",to:"/resetPassword",children:"Forgot Password"})}),e.jsx("div",{className:"w-full text-center",children:e.jsxs("p",{className:"mt-5 font-serif text-sm font-semibold text-[#e9e9e9]",children:["Don't have an account yet,"," ",e.jsx(U,{className:"font-bold text-white",to:"/signup",children:"sign up."})]})})]})})]})},Ue=/^[a-zA-Z\s]+$/,Xe=/^[a-zA-Z0-9_]+$/,Ve=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Ke=()=>{const s=i.useRef(null),n=i.useRef(null),a=i.useRef(null),o=i.useRef(null),[r,c]=i.useState("Sign up"),[d,f]=i.useState(!1),p=T();return e.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-[#1c1c1c]",children:[e.jsx("div",{className:"fixed -top-20 left-20 z-0 rotate-180 -scale-x-100 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"fixed -bottom-20 right-20 z-0 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"z-10 flex w-3/4 flex-col items-center justify-center sm:w-1/2 md:w-[45%] lg:w-1/4",children:e.jsxs("form",{name:"signupform",onSubmit:g=>{g.preventDefault(),Ue.test(s.current.value)&&Ve.test(n.current.value)&&Xe.test(a.current.value)?(c("Loading..."),A.post("/new",{name:s.current.value,email:n.current.value,userName:a.current.value,password:o.current.value}).then(()=>{c("Sign up"),p("/login")}).catch(j=>{console.log(j.response.data.message),f(!0),c("Sign up")})):f(!0)},children:[e.jsx("div",{className:"mb-8 text-center font-serif text-xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Create a New Account"}),e.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Name",autoComplete:"off",ref:s,required:!0,spellCheck:!1}),e.jsx("input",{type:"email",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Email",autoComplete:"off",ref:n,required:!0,spellCheck:!1}),e.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Username",autoComplete:"username",ref:a,required:!0,spellCheck:!1}),e.jsx("input",{type:"password",className:"text-md w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Password",autoComplete:"current-password",ref:o,required:!0,spellCheck:!1}),e.jsx("button",{className:`mt-6 w-full rounded-md bg-[#61a7ec] px-3 py-2 font-serif font-bold ${d?"bg-[#89375f] text-white":"bg-[#61a7ec] text-black"}`,type:"submit",disabled:r!=="Sign up",children:r})]})})]})},Ye=()=>{const s=T();return i.useEffect(()=>{setTimeout(()=>{s("/",{replace:!0})},3e3)},[]),e.jsxs("div",{className:"flex h-screen w-screen flex-col items-center justify-center bg-[#1c1c1c]",children:[e.jsx("p",{className:"font-serif text-4xl font-semibold text-white md:text-5xl lg:text-7xl",children:"404 Not Found"}),e.jsx("p",{className:"font-serif text-lg font-medium text-white md:text-xl lg:text-2xl",children:"The page you are looking for does not exist."})]})},Ze=()=>{const[s,n]=Re(),a=i.useRef(null),o=i.useRef(null),[r,c]=i.useState("Change Password"),[d,f]=i.useState(!1),[p,g]=i.useState(!0),j=T(),b=s.get("resetToken"),[x,v]=i.useState("");return i.useEffect(()=>{f(!0),A.post("/checkResetToken",{resetToken:b}).then($=>{console.log("Valid reset token"),g(!1),v($.data.id),f(!1)}).catch(()=>{j("/message",{state:{message:"This link is no longer valid."}})})},[]),e.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-[#1c1c1c]",children:[e.jsx("div",{className:"fixed -top-20 left-20 z-0 rotate-180 -scale-x-100 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"fixed -bottom-20 right-20 z-0 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"z-10 flex w-3/4 flex-col items-center justify-center sm:w-1/2 md:w-[45%] lg:w-1/4",children:e.jsxs("form",{name:"updatepasswordform",onSubmit:$=>{var w;$.preventDefault(),a.current.value===o.current.value?(c("Loading..."),A.put("/updatePassword",{id:x,password:(w=a.current)==null?void 0:w.value}).then(()=>{console.log("Password updated"),c("Change Password"),j("/message",{state:{message:"Password has been updated successfully.",secondaryMessage:"Log in to your account with the new password."}})}).catch(C=>{console.log("Password could not updated"),console.log(C),g(!0),c("Change Password")})):g(!0)},children:[e.jsx("div",{className:"mb-8 text-center font-serif text-xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Update your password"}),e.jsx("input",{type:"password",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Password",autoComplete:"off",ref:a,required:!0,disabled:d,spellCheck:!1}),e.jsx("input",{type:"password",className:"text-md w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Confirm Password",autoComplete:"off",ref:o,required:!0,disabled:d,spellCheck:!1}),e.jsx("button",{className:`mt-6 w-full rounded-md bg-[#61a7ec] px-3 py-2 font-serif font-bold ${p?"bg-[#89375f] text-white":"bg-[#61a7ec] text-black"}`,type:"submit",disabled:r!=="Change Password"&&d,children:r})]})})]})},We=()=>{const s=X(),n=s.state.message,a=s.state.secondaryMessage;return e.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-[#1c1c1c]",children:[e.jsx("div",{className:"fixed -top-20 left-20 z-0 rotate-180 -scale-x-100 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsx("div",{className:"fixed -bottom-20 right-20 z-0 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),e.jsxs("div",{className:"z-10 flex w-4/5 flex-col items-center justify-center",children:[e.jsx("div",{className:"text-md flex h-full w-full items-center justify-center text-center font-serif font-semibold text-white sm:text-xl",children:n}),a&&e.jsx("div",{className:"mt-1 flex h-full w-full items-center justify-center text-center font-serif text-sm font-medium text-[#f1f1f1] sm:text-lg",children:a})]})]})};function Ge(){return e.jsxs(Se,{children:[e.jsx(y,{path:"/",element:e.jsx(Ee,{})}),e.jsx(y,{path:"/:id/reader",element:e.jsx(Me,{})}),e.jsx(y,{path:"/login",element:e.jsx(Fe,{})}),e.jsx(y,{path:"/signup",element:e.jsx(Ke,{})}),e.jsx(y,{path:"/updatePassword",element:e.jsx(Ze,{})}),e.jsx(y,{path:"/resetPassword",element:e.jsx(_e,{})}),e.jsx(y,{path:"message",element:e.jsx(We,{})}),e.jsx(y,{path:"*",element:e.jsx(Ye,{})})]})}Ne.createRoot(document.getElementById("root")).render(e.jsx(Te,{children:e.jsx($e.StrictMode,{children:e.jsx(Ge,{})})}));
