import{P as X,a as le,S as pe,T as W,N as Pt,E as gn}from"./prosemirror-state-d99efc48.js";import{E as bn,D as yn,a as Mn}from"./prosemirror-view-799f8507.js";import{R as q,r as U}from"./react-d39729e7.js";import{r as kn,R as wn}from"./react-dom-eb291ab4.js";import{k as En}from"./prosemirror-keymap-8634b7a8.js";import{F as Ae,S as Sn,D as xn,a as Tn,b as vn}from"./prosemirror-model-714031c1.js";import{f as An,c as Ze,l as On,a as Oe,R as Cn,b as Rn}from"./prosemirror-transform-4fc52813.js";import{c as Ln,d as _n,e as Nn,j as In,a as Hn,b as Bn,f as Pn,l as $n,g as Dn,n as jn,s as Fn,h as zn,i as Un,k as Kn,m as Wn,o as gt,w as Gn}from"./prosemirror-commands-175c63be.js";import{l as Vn,s as qn,w as Jn}from"./prosemirror-schema-list-771d4f75.js";import{d as Qn}from"./prosemirror-dropcursor-da1713bb.js";import{g as Xn}from"./prosemirror-gapcursor-b46cb10f.js";import{u as Yn,r as Zn,h as er}from"./prosemirror-history-1f4dfada.js";function Ne(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class Ie{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...d)=>{const u=c(...d)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,a=[],c=!!t,l=t||i.tr,d=()=>(!c&&n&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...b)=>{const M=this.buildProps(l,n),k=p(...b)(M);return a.push(k),u}])),run:d};return u}createCan(t){const{rawCommands:n,state:r}=this,s=!1,i=t||r.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([c,l])=>[c,(...d)=>l(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(t,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s;i.storedMarks&&t.setStoredMarks(i.storedMarks);const a={tr:t,editor:s,view:o,state:Ne({state:i,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([c,l])=>[c,(...d)=>l(...d)(a)]))}};return a}}class tr{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(s=>s.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(s=>s!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function y(e,t,n){return e.config[t]===void 0&&e.parent?y(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?y(e.parent,t,n):null}):e.config[t]}function He(e){const t=e.filter(s=>s.type==="extension"),n=e.filter(s=>s.type==="node"),r=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function $t(e){const t=[],{nodeExtensions:n,markExtensions:r}=He(e),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},c=y(o,"addGlobalAttributes",a);if(!c)return;c().forEach(d=>{d.types.forEach(u=>{Object.entries(d.attributes).forEach(([f,p])=>{t.push({type:u,name:f,attribute:{...i,...p}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},c=y(o,"addAttributes",a);if(!c)return;const l=c();Object.entries(l).forEach(([d,u])=>{const f={...i,...u};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:o.name,name:d,attribute:f})})}),t}function $(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function N(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}s==="class"?r[s]=[r[s],i].join(" "):s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function qe(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>N(n,r),{})}function Dt(e){return typeof e=="function"}function T(e,t=void 0,...n){return Dt(e)?t?e.bind(t)(...n):e(...n):e}function nr(e={}){return Object.keys(e).length===0&&e.constructor===Object}function rr(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function bt(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const s=t.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):rr(n.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...r,...s}}}}function yt(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&nr(n)?!1:n!=null))}function sr(e,t){var n;const r=$t(e),{nodeExtensions:s,markExtensions:i}=He(e),o=(n=s.find(l=>y(l,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(s.map(l=>{const d=r.filter(k=>k.type===l.name),u={name:l.name,options:l.options,storage:l.storage,editor:t},f=e.reduce((k,S)=>{const L=y(S,"extendNodeSchema",u);return{...k,...L?L(l):{}}},{}),p=yt({...f,content:T(y(l,"content",u)),marks:T(y(l,"marks",u)),group:T(y(l,"group",u)),inline:T(y(l,"inline",u)),atom:T(y(l,"atom",u)),selectable:T(y(l,"selectable",u)),draggable:T(y(l,"draggable",u)),code:T(y(l,"code",u)),defining:T(y(l,"defining",u)),isolating:T(y(l,"isolating",u)),attrs:Object.fromEntries(d.map(k=>{var S;return[k.name,{default:(S=k==null?void 0:k.attribute)===null||S===void 0?void 0:S.default}]}))}),g=T(y(l,"parseHTML",u));g&&(p.parseDOM=g.map(k=>bt(k,d)));const b=y(l,"renderHTML",u);b&&(p.toDOM=k=>b({node:k,HTMLAttributes:qe(k,d)}));const M=y(l,"renderText",u);return M&&(p.toText=M),[l.name,p]})),c=Object.fromEntries(i.map(l=>{const d=r.filter(M=>M.type===l.name),u={name:l.name,options:l.options,storage:l.storage,editor:t},f=e.reduce((M,k)=>{const S=y(k,"extendMarkSchema",u);return{...M,...S?S(l):{}}},{}),p=yt({...f,inclusive:T(y(l,"inclusive",u)),excludes:T(y(l,"excludes",u)),group:T(y(l,"group",u)),spanning:T(y(l,"spanning",u)),code:T(y(l,"code",u)),attrs:Object.fromEntries(d.map(M=>{var k;return[M.name,{default:(k=M==null?void 0:M.attribute)===null||k===void 0?void 0:k.default}]}))}),g=T(y(l,"parseHTML",u));g&&(p.parseDOM=g.map(M=>bt(M,d)));const b=y(l,"renderHTML",u);return b&&(p.toDOM=M=>b({mark:M,HTMLAttributes:qe(M,d)})),[l.name,p]}));return new vn({topNode:o,nodes:a,marks:c})}function ze(e,t){return t.nodes[e]||t.marks[e]||null}function Mt(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const or=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(s,i,o,a)=>{var c,l;const d=((l=(c=s.type.spec).toText)===null||l===void 0?void 0:l.call(c,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";n+=d.slice(0,Math.max(0,r-i))}),n};function et(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class ke{constructor(t){this.find=t.find,this.handler=t.handler}}const ir=(e,t)=>{if(et(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Ue(e){var t;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=e,{view:c}=n;if(c.composing)return!1;const l=c.state.doc.resolve(r);if(l.parent.type.spec.code||!((t=l.nodeBefore||l.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let d=!1;const u=or(l)+i;return o.forEach(f=>{if(d)return;const p=ir(u,f.find);if(!p)return;const g=c.state.tr,b=Ne({state:c.state,transaction:g}),M={from:r-(p[0].length-i.length),to:s},{commands:k,chain:S,can:L}=new Ie({editor:n,state:b});f.handler({state:b,range:M,match:p,commands:k,chain:S,can:L})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:r,to:s,text:i}),c.dispatch(g),d=!0)}),d}function ar(e){const{editor:t,rules:n}=e,r=new X({state:{init(){return null},apply(s,i){const o=s.getMeta(r);return o||(s.selectionSet||s.docChanged?null:i)}},props:{handleTextInput(s,i,o,a){return Ue({editor:t,from:i,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Ue({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Ue({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function cr(e){return typeof e=="number"}class lr{constructor(t){this.find=t.find,this.handler=t.handler}}const ur=(e,t)=>{if(et(t))return[...e.matchAll(t)];const n=t(e);return n?n.map(r=>{const s=[r.text];return s.index=r.index,s.input=e,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function dr(e){const{editor:t,state:n,from:r,to:s,rule:i}=e,{commands:o,chain:a,can:c}=new Ie({editor:t,state:n}),l=[];return n.doc.nodesBetween(r,s,(u,f)=>{if(!u.isTextblock||u.type.spec.code)return;const p=Math.max(r,f),g=Math.min(s,f+u.content.size),b=u.textBetween(p-f,g-f,void 0,"￼");ur(b,i.find).forEach(k=>{if(k.index===void 0)return;const S=p+k.index+1,L=S+k[0].length,I={from:n.tr.mapping.map(S),to:n.tr.mapping.map(L)},B=i.handler({state:n,range:I,match:k,commands:o,chain:a,can:c});l.push(B)})}),l.every(u=>u!==null)}function fr(e){const{editor:t,rules:n}=e;let r=null,s=!1,i=!1;return n.map(a=>new X({view(c){const l=d=>{var u;r=!((u=c.dom.parentElement)===null||u===void 0)&&u.contains(d.target)?c.dom.parentElement:null};return window.addEventListener("dragstart",l),{destroy(){window.removeEventListener("dragstart",l)}}},props:{handleDOMEvents:{drop:c=>(i=r===c.dom.parentElement,!1),paste:(c,l)=>{var d;const u=(d=l.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return s=!!(u!=null&&u.includes("data-pm-slice")),!1}}},appendTransaction:(c,l,d)=>{const u=c[0],f=u.getMeta("uiEvent")==="paste"&&!s,p=u.getMeta("uiEvent")==="drop"&&!i;if(!f&&!p)return;const g=l.doc.content.findDiffStart(d.doc.content),b=l.doc.content.findDiffEnd(d.doc.content);if(!cr(g)||!b||g===b.b)return;const M=d.tr,k=Ne({state:d,transaction:M});if(!(!dr({editor:t,state:k,from:Math.max(g-1,0),to:b.b-1,rule:a})||!M.steps.length))return M}}))}function pr(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class fe{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=fe.resolve(t),this.schema=sr(this.extensions,n),this.extensions.forEach(r=>{var s;this.editor.extensionStorage[r.name]=r.storage;const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:ze(r.name,this.schema)};r.type==="mark"&&(!((s=T(y(r,"keepOnSplit",i)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(r.name);const o=y(r,"onBeforeCreate",i);o&&this.editor.on("beforeCreate",o);const a=y(r,"onCreate",i);a&&this.editor.on("create",a);const c=y(r,"onUpdate",i);c&&this.editor.on("update",c);const l=y(r,"onSelectionUpdate",i);l&&this.editor.on("selectionUpdate",l);const d=y(r,"onTransaction",i);d&&this.editor.on("transaction",d);const u=y(r,"onFocus",i);u&&this.editor.on("focus",u);const f=y(r,"onBlur",i);f&&this.editor.on("blur",f);const p=y(r,"onDestroy",i);p&&this.editor.on("destroy",p)})}static resolve(t){const n=fe.sort(fe.flatten(t)),r=pr(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=y(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(t){return t.sort((r,s)=>{const i=y(r,"priority")||100,o=y(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:ze(n.name,this.schema)},s=y(n,"addCommands",r);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this,n=fe.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:t,type:ze(o.name,this.schema)},c=[],l=y(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&o.config.exitable&&(d.ArrowRight=()=>G.handleExit({editor:t,mark:o})),l){const b=Object.fromEntries(Object.entries(l()).map(([M,k])=>[M,()=>k({editor:t})]));d={...d,...b}}const u=En(d);c.push(u);const f=y(o,"addInputRules",a);Mt(o,t.options.enableInputRules)&&f&&r.push(...f());const p=y(o,"addPasteRules",a);Mt(o,t.options.enablePasteRules)&&p&&s.push(...p());const g=y(o,"addProseMirrorPlugins",a);if(g){const b=g();c.push(...b)}return c}).flat();return[ar({editor:t,rules:r}),...fr({editor:t,rules:s}),...i]}get attributes(){return $t(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=He(this.extensions);return Object.fromEntries(n.filter(r=>!!y(r,"addNodeView")).map(r=>{const s=this.attributes.filter(c=>c.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:t,type:$(r.name,this.schema)},o=y(r,"addNodeView",i);if(!o)return[];const a=(c,l,d,u)=>{const f=qe(c,s);return o()({editor:t,node:c,getPos:d,decorations:u,HTMLAttributes:f,extension:r})};return[r.name,a]}))}}function hr(e){return Object.prototype.toString.call(e).slice(8,-1)}function Ke(e){return hr(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Be(e,t){const n={...e};return Ke(e)&&Ke(t)&&Object.keys(t).forEach(r=>{Ke(t[r])?r in e?n[r]=Be(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}class z{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=T(y(this,"addOptions",{name:this.name}))),this.storage=T(y(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new z(t)}configure(t={}){const n=this.extend();return n.options=Be(this.options,t),n.storage=T(y(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new z(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=T(y(n,"addOptions",{name:n.name})),n.storage=T(y(n,"addStorage",{name:n.name,options:n.options})),n}}function jt(e,t,n){const{from:r,to:s}=t,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let a="",c=!0;return e.nodesBetween(r,s,(l,d,u,f)=>{var p;const g=o==null?void 0:o[l.type.name];g?(l.isBlock&&!c&&(a+=i,c=!0),u&&(a+=g({node:l,pos:d,parent:u,index:f,range:t}))):l.isText?(a+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(r,d)-d,s-d),c=!1):l.isBlock&&!c&&(a+=i,c=!0)}),a}function Ft(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const mr=z.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new X({key:new le("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:s}=t,{ranges:i}=s,o=Math.min(...i.map(d=>d.$from.pos)),a=Math.max(...i.map(d=>d.$to.pos)),c=Ft(n);return jt(r,{from:o,to:a},{textSerializers:c})}}})]}}),gr=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),br=(e=!1)=>({commands:t})=>t.setContent("",e),yr=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{e.doc.nodesBetween(i.pos,o.pos,(a,c)=>{if(a.type.isText)return;const{doc:l,mapping:d}=t,u=l.resolve(d.map(c)),f=l.resolve(d.map(c+a.nodeSize)),p=u.blockRange(f);if(!p)return;const g=On(p);if(a.type.isTextblock){const{defaultType:b}=u.parent.contentMatchAt(u.index());t.setNodeMarkup(p.start,b)}(g||g===0)&&t.lift(p,g)})}),!0},Mr=e=>t=>e(t),kr=()=>({state:e,dispatch:t})=>Ln(e,t),wr=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(t){const a=s.before(i),c=s.after(i);e.delete(a,c).scrollIntoView()}return!0}return!1},Er=e=>({tr:t,state:n,dispatch:r})=>{const s=$(e,n.schema),i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const c=i.before(o),l=i.after(o);t.delete(c,l).scrollIntoView()}return!0}return!1},Sr=e=>({tr:t,dispatch:n})=>{const{from:r,to:s}=e;return n&&t.delete(r,s),!0},xr=()=>({state:e,dispatch:t})=>_n(e,t),Tr=()=>({commands:e})=>e.keyboardShortcut("Enter"),vr=()=>({state:e,dispatch:t})=>Nn(e,t);function Re(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(s=>n.strict?t[s]===e[s]:et(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function Je(e,t,n={}){return e.find(r=>r.type===t&&Re(r.attrs,n))}function Ar(e,t,n={}){return!!Je(e,t,n)}function tt(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const s=Je([...r.node.marks],t,n);if(!s)return;let i=r.index,o=e.start()+r.offset,a=i+1,c=o+r.node.nodeSize;for(Je([...r.node.marks],t,n);i>0&&s.isInSet(e.parent.child(i-1).marks);)i-=1,o-=e.parent.child(i).nodeSize;for(;a<e.parent.childCount&&Ar([...e.parent.child(a).marks],t,n);)c+=e.parent.child(a).nodeSize,a+=1;return{from:o,to:c}}function re(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const Or=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const i=re(e,r.schema),{doc:o,selection:a}=n,{$from:c,from:l,to:d}=a;if(s){const u=tt(c,i,t);if(u&&u.from<=l&&u.to>=d){const f=W.create(o,u.from,u.to);n.setSelection(f)}}return!0},Cr=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function zt(e){return e instanceof W}function oe(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Ut(e,t=null){if(!t)return null;const n=pe.atStart(e),r=pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const s=n.from,i=r.to;return t==="all"?W.create(e,oe(0,s,i),oe(e.content.size,s,i)):W.create(e,oe(t,s,i),oe(t,s,i))}function nt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Rr=(e=null,t={})=>({editor:n,view:r,tr:s,dispatch:i})=>{t={scrollIntoView:!0,...t};const o=()=>{nt()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(i&&e===null&&!zt(n.state.selection))return o(),!0;const a=Ut(s.doc,e)||n.state.selection,c=n.state.selection.eq(a);return i&&(c||s.setSelection(a),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},Lr=(e,t)=>n=>e.every((r,s)=>t(r,{...n,index:s})),_r=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t);function kt(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function Le(e,t,n){if(n={slice:!0,parseOptions:{},...n},typeof e=="object"&&e!==null)try{return Array.isArray(e)&&e.length>0?Ae.fromArray(e.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),Le("",t,n)}if(typeof e=="string"){const r=xn.fromSchema(t);return n.slice?r.parseSlice(kt(e),n.parseOptions).content:r.parse(kt(e),n.parseOptions)}return Le("",t,n)}function Nr(e,t,n){const r=e.steps.length-1;if(r<t)return;const s=e.steps[r];if(!(s instanceof Cn||s instanceof Rn))return;const i=e.mapping.maps[r];let o=0;i.forEach((a,c,l,d)=>{o===0&&(o=d)}),e.setSelection(pe.near(e.doc.resolve(o),n))}const Ir=e=>e.toString().startsWith("<"),Hr=(e,t,n)=>({tr:r,dispatch:s,editor:i})=>{if(s){n={parseOptions:{},updateSelection:!0,...n};const o=Le(t,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:a,to:c}=typeof e=="number"?{from:e,to:e}:e,l=!0,d=!0;if((Ir(o)?o:[o]).forEach(f=>{f.check(),l=l?f.isText&&f.marks.length===0:!1,d=d?f.isBlock:!1}),a===c&&d){const{parent:f}=r.doc.resolve(a);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(a-=1,c+=1)}l?Array.isArray(t)?r.insertText(t.map(f=>f.text||"").join(""),a,c):typeof t=="object"&&t&&t.text?r.insertText(t.text,a,c):r.insertText(t,a,c):r.replaceWith(a,c,o),n.updateSelection&&Nr(r,r.steps.length-1,-1)}return!0},Br=()=>({state:e,dispatch:t})=>In(e,t),Pr=()=>({state:e,dispatch:t})=>Hn(e,t),$r=()=>({state:e,dispatch:t})=>Bn(e,t),Dr=()=>({state:e,dispatch:t})=>Pn(e,t);function Kt(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function jr(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<t.length-1;a+=1){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))nt()||Kt()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const Fr=e=>({editor:t,view:n,tr:r,dispatch:s})=>{const i=jr(e).split(/-(?!$)/),o=i.find(l=>!["Alt","Ctrl","Meta","Shift"].includes(l)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{n.someProp("handleKeyDown",l=>l(n,a))});return c==null||c.steps.forEach(l=>{const d=l.map(r.mapping);d&&s&&r.maybeStep(d)}),!0};function me(e,t,n={}){const{from:r,to:s,empty:i}=e.selection,o=t?$(t,e.schema):null,a=[];e.doc.nodesBetween(r,s,(u,f)=>{if(u.isText)return;const p=Math.max(r,f),g=Math.min(s,f+u.nodeSize);a.push({node:u,from:p,to:g})});const c=s-r,l=a.filter(u=>o?o.name===u.node.type.name:!0).filter(u=>Re(u.node.attrs,n,{strict:!1}));return i?!!l.length:l.reduce((u,f)=>u+f.to-f.from,0)>=c}const zr=(e,t={})=>({state:n,dispatch:r})=>{const s=$(e,n.schema);return me(n,s,t)?$n(n,r):!1},Ur=()=>({state:e,dispatch:t})=>Dn(e,t),Kr=e=>({state:t,dispatch:n})=>{const r=$(e,t.schema);return Vn(r)(t,n)},Wr=()=>({state:e,dispatch:t})=>jn(e,t);function Pe(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function wt(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,s)=>(n.includes(s)||(r[s]=e[s]),r),{})}const Gr=(e,t)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Pe(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=$(e,r.schema)),a==="mark"&&(o=re(e,r.schema)),s&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(l,d)=>{i&&i===l.type&&n.setNodeMarkup(d,void 0,wt(l.attrs,t)),o&&l.marks.length&&l.marks.forEach(u=>{o===u.type&&n.addMark(d,d+l.nodeSize,o.create(wt(u.attrs,t)))})})}),!0):!1},Vr=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),qr=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),Jr=()=>({state:e,dispatch:t})=>Fn(e,t),Qr=()=>({state:e,dispatch:t})=>zn(e,t),Xr=()=>({state:e,dispatch:t})=>Un(e,t),Yr=()=>({state:e,dispatch:t})=>Kn(e,t),Zr=()=>({state:e,dispatch:t})=>Wn(e,t);function Wt(e,t,n={}){return Le(e,t,{slice:!1,parseOptions:n})}const es=(e,t=!1,n={})=>({tr:r,editor:s,dispatch:i})=>{const{doc:o}=r,a=Wt(e,s.schema,n);return i&&r.replaceWith(0,o.content.size,a).setMeta("preventUpdate",!t),!0};function ts(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Qe(e,t){const n=[];return e.descendants((r,s)=>{t(r)&&n.push({node:r,pos:s})}),n}function ns(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function rt(e){return t=>ns(t.$from,e)}function rs(e,t){const n=Tn.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function ss(e,t){const n={from:0,to:e.content.size};return jt(e,n,t)}function we(e,t){const n=re(t,e.schema),{from:r,to:s,empty:i}=e.selection,o=[];i?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,s,c=>{o.push(...c.marks)});const a=o.find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function os(e,t){const n=$(t,e.schema),{from:r,to:s}=e.selection,i=[];e.doc.nodesBetween(r,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function is(e,t){const n=Pe(typeof t=="string"?t:t.name,e.schema);return n==="node"?os(e,t):n==="mark"?we(e,t):{}}function Gt(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(s=>{const i=n.resolve(e-1),o=tt(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(e,t,(s,i)=>{r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function Ce(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=e.find(i=>i.type===t&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function Xe(e,t,n={}){const{empty:r,ranges:s}=e.selection,i=t?re(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(u=>i?i.name===u.type.name:!0).find(u=>Re(u.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:u,$to:f})=>{const p=u.pos,g=f.pos;e.doc.nodesBetween(p,g,(b,M)=>{if(!b.isText&&!b.marks.length)return;const k=Math.max(p,M),S=Math.min(g,M+b.nodeSize),L=S-k;o+=L,a.push(...b.marks.map(I=>({mark:I,from:k,to:S})))})}),o===0)return!1;const c=a.filter(u=>i?i.name===u.mark.type.name:!0).filter(u=>Re(u.mark.attrs,n,{strict:!1})).reduce((u,f)=>u+f.to-f.from,0),l=a.filter(u=>i?u.mark.type!==i&&u.mark.type.excludes(i):!0).reduce((u,f)=>u+f.to-f.from,0);return(c>0?c+l:c)>=o}function as(e,t,n={}){if(!t)return me(e,null,n)||Xe(e,null,n);const r=Pe(t,e.schema);return r==="node"?me(e,t,n):r==="mark"?Xe(e,t,n):!1}function Et(e,t){const{nodeExtensions:n}=He(t),r=n.find(o=>o.name===e);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=T(y(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function cs(e){var t;const n=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function ls(e,t,n){var r;const{selection:s}=t;let i=null;if(zt(s)&&(i=s.$cursor),i){const a=(r=e.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(a)||!a.some(c=>c.type.excludes(n))}const{ranges:o}=s;return o.some(({$from:a,$to:c})=>{let l=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,c.pos,(d,u,f)=>{if(l)return!1;if(d.isInline){const p=!f||f.type.allowsMarkType(n),g=!!n.isInSet(d.marks)||!d.marks.some(b=>b.type.excludes(n));l=p&&g}return!l}),l})}const us=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,c=re(e,r.schema);if(s)if(o){const l=we(r,c);n.addStoredMark(c.create({...l,...t}))}else a.forEach(l=>{const d=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(d,u,(f,p)=>{const g=Math.max(p,d),b=Math.min(p+f.nodeSize,u);f.marks.find(k=>k.type===c)?f.marks.forEach(k=>{c===k.type&&n.addMark(g,b,c.create({...k.attrs,...t}))}):n.addMark(g,b,c.create(t))})});return ls(r,n,c)},ds=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),fs=(e,t={})=>({state:n,dispatch:r,chain:s})=>{const i=$(e,n.schema);return i.isTextblock?s().command(({commands:o})=>gt(i,t)(n)?!0:o.clearNodes()).command(({state:o})=>gt(i,t)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ps=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,s=oe(e,0,r.content.size),i=Pt.create(r,s);t.setSelection(i)}return!0},hs=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:s,to:i}=typeof e=="number"?{from:e,to:e}:e,o=W.atStart(r).from,a=W.atEnd(r).to,c=oe(s,o,a),l=oe(i,o,a),d=W.create(r,c,l);t.setSelection(d)}return!0},ms=e=>({state:t,dispatch:n})=>{const r=$(e,t.schema);return qn(r)(t,n)};function St(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(r)}}const gs=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=t,{$from:a,$to:c}=i,l=s.extensionManager.attributes,d=Ce(l,a.node().type.name,a.node().attrs);if(i instanceof Pt&&i.node.isBlock)return!a.parentOffset||!Oe(o,a.pos)?!1:(r&&(e&&St(n,s.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const u=c.parentOffset===c.parent.content.size;i instanceof W&&t.deleteSelection();const f=a.depth===0?void 0:ts(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=u&&f?[{type:f,attrs:d}]:void 0,g=Oe(t.doc,t.mapping.map(a.pos),1,p);if(!p&&!g&&Oe(t.doc,t.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(g=!0,p=f?[{type:f,attrs:d}]:void 0),g&&(t.split(t.mapping.map(a.pos),1,p),f&&!u&&!a.parentOffset&&a.parent.type!==f)){const b=t.mapping.map(a.before()),M=t.doc.resolve(b);a.node(-1).canReplaceWith(M.index(),M.index()+1,f)&&t.setNodeMarkup(t.mapping.map(a.before()),f)}e&&St(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return!0},bs=e=>({tr:t,state:n,dispatch:r,editor:s})=>{var i;const o=$(e,n.schema),{$from:a,$to:c}=n.selection,l=n.selection.node;if(l&&l.isBlock||a.depth<2||!a.sameParent(c))return!1;const d=a.node(-1);if(d.type!==o)return!1;const u=s.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let M=Ae.empty;const k=a.index(-1)?1:a.index(-2)?2:3;for(let J=a.depth-k;J>=a.depth-3;J-=1)M=Ae.from(a.node(J).copy(M));const S=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,L=Ce(u,a.node().type.name,a.node().attrs),I=((i=o.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(L))||void 0;M=M.append(Ae.from(o.createAndFill(null,I)||void 0));const B=a.before(a.depth-(k-1));t.replace(B,a.after(-S),new Sn(M,4-k,0));let F=-1;t.doc.nodesBetween(B,t.doc.content.size,(J,he)=>{if(F>-1)return!1;J.isTextblock&&J.content.size===0&&(F=he+1)}),F>-1&&t.setSelection(W.near(t.doc.resolve(F))),t.scrollIntoView()}return!0}const f=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,p=Ce(u,d.type.name,d.attrs),g=Ce(u,a.node().type.name,a.node().attrs);t.delete(a.pos,c.pos);const b=f?[{type:o,attrs:p},{type:f,attrs:g}]:[{type:o,attrs:p}];if(!Oe(t.doc,a.pos,2))return!1;if(r){const{selection:M,storedMarks:k}=n,{splittableMarks:S}=s.extensionManager,L=k||M.$to.parentOffset&&M.$from.marks();if(t.split(a.pos,2,b).scrollIntoView(),!L||!r)return!0;const I=L.filter(B=>S.includes(B.type.name));t.ensureMarks(I)}return!0},We=(e,t)=>{const n=rt(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Ze(e.doc,n.pos)&&e.join(n.pos),!0},Ge=(e,t)=>{const n=rt(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Ze(e.doc,r)&&e.join(r),!0},ys=(e,t,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:c,commands:l,can:d})=>{const{extensions:u,splittableMarks:f}=s.extensionManager,p=$(e,o.schema),g=$(t,o.schema),{selection:b,storedMarks:M}=o,{$from:k,$to:S}=b,L=k.blockRange(S),I=M||b.$to.parentOffset&&b.$from.marks();if(!L)return!1;const B=rt(F=>Et(F.type.name,u))(b);if(L.depth>=1&&B&&L.depth-B.depth<=1){if(B.node.type===p)return l.liftListItem(g);if(Et(B.node.type.name,u)&&p.validContent(B.node.content)&&a)return c().command(()=>(i.setNodeMarkup(B.pos,p),!0)).command(()=>We(i,p)).command(()=>Ge(i,p)).run()}return!n||!I||!a?c().command(()=>d().wrapInList(p,r)?!0:l.clearNodes()).wrapInList(p,r).command(()=>We(i,p)).command(()=>Ge(i,p)).run():c().command(()=>{const F=d().wrapInList(p,r),J=I.filter(he=>f.includes(he.type.name));return i.ensureMarks(J),F?!0:l.clearNodes()}).wrapInList(p,r).command(()=>We(i,p)).command(()=>Ge(i,p)).run()},Ms=(e,t={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=re(e,r.schema);return Xe(r,o,t)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,t)},ks=(e,t,n={})=>({state:r,commands:s})=>{const i=$(e,r.schema),o=$(t,r.schema);return me(r,i,n)?s.setNode(o):s.setNode(i,n)},ws=(e,t={})=>({state:n,commands:r})=>{const s=$(e,n.schema);return me(n,s,t)?r.lift(s):r.wrapIn(s,t)},Es=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(e))){if(t){const o=e.tr,a=i.transform;for(let c=a.steps.length-1;c>=0;c-=1)o.step(a.steps[c].invert(a.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,e.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},Ss=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:s}=n;return r||t&&s.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},xs=(e,t={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=t,{selection:a}=n,c=re(e,r.schema),{$from:l,empty:d,ranges:u}=a;if(!s)return!0;if(d&&o){let{from:f,to:p}=a;const g=(i=l.marks().find(M=>M.type===c))===null||i===void 0?void 0:i.attrs,b=tt(l,c,g);b&&(f=b.from,p=b.to),n.removeMark(f,p,c)}else u.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,c)});return n.removeStoredMark(c),!0},Ts=(e,t={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Pe(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(i=$(e,r.schema)),a==="mark"&&(o=re(e,r.schema)),s&&n.selection.ranges.forEach(c=>{const l=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(l,d,(u,f)=>{i&&i===u.type&&n.setNodeMarkup(f,void 0,{...u.attrs,...t}),o&&u.marks.length&&u.marks.forEach(p=>{if(o===p.type){const g=Math.max(f,l),b=Math.min(f+u.nodeSize,d);n.addMark(g,b,o.create({...p.attrs,...t}))}})})}),!0):!1},vs=(e,t={})=>({state:n,dispatch:r})=>{const s=$(e,n.schema);return Gn(s,t)(n,r)},As=(e,t={})=>({state:n,dispatch:r})=>{const s=$(e,n.schema);return Jn(s,t)(n,r)};var Os=Object.freeze({__proto__:null,blur:gr,clearContent:br,clearNodes:yr,command:Mr,createParagraphNear:kr,deleteCurrentNode:wr,deleteNode:Er,deleteRange:Sr,deleteSelection:xr,enter:Tr,exitCode:vr,extendMarkRange:Or,first:Cr,focus:Rr,forEach:Lr,insertContent:_r,insertContentAt:Hr,joinUp:Br,joinDown:Pr,joinBackward:$r,joinForward:Dr,keyboardShortcut:Fr,lift:zr,liftEmptyBlock:Ur,liftListItem:Kr,newlineInCode:Wr,resetAttributes:Gr,scrollIntoView:Vr,selectAll:qr,selectNodeBackward:Jr,selectNodeForward:Qr,selectParentNode:Xr,selectTextblockEnd:Yr,selectTextblockStart:Zr,setContent:es,setMark:us,setMeta:ds,setNode:fs,setNodeSelection:ps,setTextSelection:hs,sinkListItem:ms,splitBlock:gs,splitListItem:bs,toggleList:ys,toggleMark:Ms,toggleNode:ks,toggleWrap:ws,undoInputRule:Es,unsetAllMarks:Ss,unsetMark:xs,updateAttributes:Ts,wrapIn:vs,wrapInList:As});const Cs=z.create({name:"commands",addCommands(){return{...Os}}}),Rs=z.create({name:"editable",addProseMirrorPlugins(){return[new X({key:new le("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Ls=z.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new X({key:new le("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),_s=z.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:c,doc:l}=a,{empty:d,$anchor:u}=c,{pos:f,parent:p}=u,g=pe.atStart(l).from===f;return!d||!g||!p.type.isTextblock||p.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return nt()||Kt()?i:s},addProseMirrorPlugins(){return[new X({key:new le("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(g=>g.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:s,from:i,to:o}=t.selection,a=pe.atStart(t.doc).from,c=pe.atEnd(t.doc).to;if(s||!(i===a&&o===c)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const u=n.tr,f=Ne({state:n,transaction:u}),{commands:p}=new Ie({editor:this.editor,state:f});if(p.clearNodes(),!!u.steps.length)return u}})]}}),Ns=z.create({name:"tabindex",addProseMirrorPlugins(){return[new X({key:new le("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Is=Object.freeze({__proto__:null,ClipboardTextSerializer:mr,Commands:Cs,Editable:Rs,FocusEvents:Ls,Keymap:_s,Tabindex:Ns});const Hs=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Bs(e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}let Ps=class extends tr{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Bs(Hs,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=Dt(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:r});this.view.updateState(s)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(Is):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new fe(n,this)}createCommandManager(){this.commandManager=new Ie({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=Wt(this.options.content,this.schema,this.options.parseOptions),n=Ut(t,this.options.autofocus);this.view=new bn(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:gn.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=t.getMeta("focus"),i=t.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:t}),i&&this.emit("blur",{editor:this,event:i.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return is(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,s=typeof t=="string"?n:t;return as(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return rs(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return ss(this.state.doc,{blockSeparator:n,textSerializers:{...Ft(this.schema),...r}})}get isEmpty(){return cs(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}};function ae(e){return new ke({find:e.find,handler:({state:t,range:n,match:r})=>{const s=T(e.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=t,o=r[r.length-1],a=r[0];let c=n.to;if(o){const l=a.search(/\S/),d=n.from+a.indexOf(o),u=d+o.length;if(Gt(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(b=>b===e.type&&b!==p.mark.type)).filter(p=>p.to>d).length)return null;u<n.to&&i.delete(u,n.to),d>n.from&&i.delete(n.from+l,d),c=n.from+l+o.length,i.addMark(n.from+l,c,e.type.create(s||{})),i.removeStoredMark(e.type)}}})}function $s(e){return new ke({find:e.find,handler:({state:t,range:n,match:r})=>{const s=T(e.getAttributes,void 0,r)||{},{tr:i}=t,o=n.from;let a=n.to;if(r[1]){const c=r[0].lastIndexOf(r[1]);let l=o+c;l>a?l=a:a=l+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,o+r[0].length-1),i.replaceWith(l,a,e.type.create(s))}else r[0]&&i.replaceWith(o,a,e.type.create(s))}})}function Ye(e){return new ke({find:e.find,handler:({state:t,range:n,match:r})=>{const s=t.doc.resolve(n.from),i=T(e.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)}})}function _(e){return new ke({find:e.find,handler:({state:t,range:n,match:r})=>{let s=e.replace,i=n.from;const o=n.to;if(r[1]){const a=r[0].lastIndexOf(r[1]);s+=r[0].slice(a+r[1].length),i+=a;const c=i-o;c>0&&(s=r[0].slice(a-c,a)+s,i=o)}t.tr.insertText(s,i,o)}})}function ge(e){return new ke({find:e.find,handler:({state:t,range:n,match:r,chain:s})=>{const i=T(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),l=c&&An(c,e.type,i);if(!l)return null;if(o.wrap(c,l),e.keepMarks&&e.editor){const{selection:u,storedMarks:f}=t,{splittableMarks:p}=e.editor.extensionManager,g=f||u.$to.parentOffset&&u.$from.marks();if(g){const b=g.filter(M=>p.includes(M.type.name));o.ensureMarks(b)}}if(e.keepAttributes){const u=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(u,i).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&Ze(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&o.join(n.from-1)}})}class G{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=T(y(this,"addOptions",{name:this.name}))),this.storage=T(y(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new G(t)}configure(t={}){const n=this.extend();return n.options=Be(this.options,t),n.storage=T(y(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new G(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=T(y(n,"addOptions",{name:n.name})),n.storage=T(y(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(l=>(l==null?void 0:l.type.name)===n.name))return!1;const c=o.find(l=>(l==null?void 0:l.type.name)===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",s.pos),t.view.dispatch(r),!0}return!1}}class j{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=T(y(this,"addOptions",{name:this.name}))),this.storage=T(y(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new j(t)}configure(t={}){const n=this.extend();return n.options=Be(this.options,t),n.storage=T(y(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new j(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=T(y(n,"addOptions",{name:n.name})),n.storage=T(y(n,"addStorage",{name:n.name,options:n.options})),n}}function ce(e){return new lr({find:e.find,handler:({state:t,range:n,match:r})=>{const s=T(e.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=t,o=r[r.length-1],a=r[0];let c=n.to;if(o){const l=a.search(/\S/),d=n.from+a.indexOf(o),u=d+o.length;if(Gt(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(b=>b===e.type&&b!==p.mark.type)).filter(p=>p.to>d).length)return null;u<n.to&&i.delete(u,n.to),d>n.from&&i.delete(n.from+l,d),c=n.from+l+o.length,i.addMark(n.from+l,c,e.type.create(s||{})),i.removeStoredMark(e.type)}}})}const Ds=/^```([a-z]+)?[\s\n]$/,js=/^~~~([a-z]+)?[\s\n]$/,Vt=j.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,i=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",N(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0||r.nodeAt(a)?!1:e.commands.exitCode()}}},addInputRules(){return[Ye({find:Ds,type:this.type,getAttributes:e=>({language:e[1]})}),Ye({find:js,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new X({key:new le("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o}=e.state;return o.replaceSelectionWith(this.type.create({language:i})),o.setSelection(W.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}});var st={exports:{}};function ot(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&ot(n)}),e}st.exports=ot;st.exports.default=ot;class xt{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function qt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ne(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const s in r)n[s]=r[s]}),n}const Fs="</span>",Tt=e=>!!e.scope||e.sublanguage&&e.language,zs=(e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,s)=>`${r}${"_".repeat(s+1)}`)].join(" ")}return`${t}${e}`};class Us{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=qt(t)}openNode(t){if(!Tt(t))return;let n="";t.sublanguage?n=`language-${t.language}`:n=zs(t.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(t){Tt(t)&&(this.buffer+=Fs)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const vt=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class it{constructor(){this.rootNode=vt(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=vt({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{it._collapse(n)}))}}class Ks extends it{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const r=t.root;r.sublanguage=!0,r.language=n,this.add(r)}toHTML(){return new Us(this,this.options).value()}finalize(){return!0}}function be(e){return e?typeof e=="string"?e:e.source:null}function Jt(e){return ue("(?=",e,")")}function Ws(e){return ue("(?:",e,")*")}function Gs(e){return ue("(?:",e,")?")}function ue(...e){return e.map(n=>be(n)).join("")}function Vs(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function at(...e){return"("+(Vs(e).capture?"":"?:")+e.map(r=>be(r)).join("|")+")"}function Qt(e){return new RegExp(e.toString()+"|").exec("").length-1}function qs(e,t){const n=e&&e.exec(t);return n&&n.index===0}const Js=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ct(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const s=n;let i=be(r),o="";for(;i.length>0;){const a=Js.exec(i);if(!a){o+=i;break}o+=i.substring(0,a.index),i=i.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+s):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(t)}const Qs=/\b\B/,Xt="[a-zA-Z]\\w*",lt="[a-zA-Z_]\\w*",Yt="\\b\\d+(\\.\\d+)?",Zt="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",en="\\b(0b[01]+)",Xs="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Ys=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=ue(t,/.*\b/,e.binary,/\b.*/)),ne({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},ye={begin:"\\\\[\\s\\S]",relevance:0},Zs={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ye]},eo={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ye]},to={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},$e=function(e,t,n={}){const r=ne({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=at("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:ue(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},no=$e("//","$"),ro=$e("/\\*","\\*/"),so=$e("#","$"),oo={scope:"number",begin:Yt,relevance:0},io={scope:"number",begin:Zt,relevance:0},ao={scope:"number",begin:en,relevance:0},co={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ye,{begin:/\[/,end:/\]/,relevance:0,contains:[ye]}]}]},lo={scope:"title",begin:Xt,relevance:0},uo={scope:"title",begin:lt,relevance:0},fo={begin:"\\.\\s*"+lt,relevance:0},po=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var ve=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Qs,IDENT_RE:Xt,UNDERSCORE_IDENT_RE:lt,NUMBER_RE:Yt,C_NUMBER_RE:Zt,BINARY_NUMBER_RE:en,RE_STARTERS_RE:Xs,SHEBANG:Ys,BACKSLASH_ESCAPE:ye,APOS_STRING_MODE:Zs,QUOTE_STRING_MODE:eo,PHRASAL_WORDS_MODE:to,COMMENT:$e,C_LINE_COMMENT_MODE:no,C_BLOCK_COMMENT_MODE:ro,HASH_COMMENT_MODE:so,NUMBER_MODE:oo,C_NUMBER_MODE:io,BINARY_NUMBER_MODE:ao,REGEXP_MODE:co,TITLE_MODE:lo,UNDERSCORE_TITLE_MODE:uo,METHOD_GUARD:fo,END_SAME_AS_BEGIN:po});function ho(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function mo(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function go(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=ho,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function bo(e,t){Array.isArray(e.illegal)&&(e.illegal=at(...e.illegal))}function yo(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Mo(e,t){e.relevance===void 0&&(e.relevance=1)}const ko=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=ue(n.beforeMatch,Jt(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},wo=["of","and","for","in","not","or","if","then","parent","list","value"],Eo="keyword";function tn(e,t,n=Eo){const r=Object.create(null);return typeof e=="string"?s(n,e.split(" ")):Array.isArray(e)?s(n,e):Object.keys(e).forEach(function(i){Object.assign(r,tn(e[i],t,i))}),r;function s(i,o){t&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const c=a.split("|");r[c[0]]=[i,So(c[0],c[1])]})}}function So(e,t){return t?Number(t):xo(e)?0:1}function xo(e){return wo.includes(e.toLowerCase())}const At={},ie=e=>{console.error(e)},Ot=(e,...t)=>{console.log(`WARN: ${e}`,...t)},de=(e,t)=>{At[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),At[`${e}/${t}`]=!0)},_e=new Error;function nn(e,t,{key:n}){let r=0;const s=e[n],i={},o={};for(let a=1;a<=t.length;a++)o[a+r]=s[a],i[a+r]=!0,r+=Qt(t[a-1]);e[n]=o,e[n]._emit=i,e[n]._multi=!0}function To(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw ie("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),_e;if(typeof e.beginScope!="object"||e.beginScope===null)throw ie("beginScope must be object"),_e;nn(e,e.begin,{key:"beginScope"}),e.begin=ct(e.begin,{joinWith:""})}}function vo(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw ie("skip, excludeEnd, returnEnd not compatible with endScope: {}"),_e;if(typeof e.endScope!="object"||e.endScope===null)throw ie("endScope must be object"),_e;nn(e,e.end,{key:"endScope"}),e.end=ct(e.end,{joinWith:""})}}function Ao(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Oo(e){Ao(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),To(e),vo(e)}function Co(e){function t(o,a){return new RegExp(be(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,a]),this.matchAt+=Qt(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(c=>c[1]);this.matcherRe=t(ct(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(a);if(!c)return null;const l=c.findIndex((u,f)=>f>0&&u!==void 0),d=this.matchIndexes[l];return c.splice(0,l),Object.assign(c,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const c=new n;return this.rules.slice(a).forEach(([l,d])=>c.addRule(l,d)),c.compile(),this.multiRegexes[a]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,c){this.rules.push([a,c]),c.type==="begin"&&this.count++}exec(a){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let l=c.exec(a);if(this.resumingScanAtSamePosition()&&!(l&&l.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,l=d.exec(a)}return l&&(this.regexIndex+=l.position+1,this.regexIndex===this.count&&this.considerAll()),l}}function s(o){const a=new r;return o.contains.forEach(c=>a.addRule(c.begin,{rule:c,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function i(o,a){const c=o;if(o.isCompiled)return c;[mo,yo,Oo,ko].forEach(d=>d(o,a)),e.compilerExtensions.forEach(d=>d(o,a)),o.__beforeBegin=null,[go,bo,Mo].forEach(d=>d(o,a)),o.isCompiled=!0;let l=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),l=o.keywords.$pattern,delete o.keywords.$pattern),l=l||/\w+/,o.keywords&&(o.keywords=tn(o.keywords,e.case_insensitive)),c.keywordPatternRe=t(l,!0),a&&(o.begin||(o.begin=/\B|\b/),c.beginRe=t(c.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(c.endRe=t(c.end)),c.terminatorEnd=be(c.end)||"",o.endsWithParent&&a.terminatorEnd&&(c.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(c.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(d){return Ro(d==="self"?o:d)})),o.contains.forEach(function(d){i(d,c)}),o.starts&&i(o.starts,a),c.matcher=s(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=ne(e.classNameAliases||{}),i(e)}function rn(e){return e?e.endsWithParent||rn(e.starts):!1}function Ro(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return ne(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:rn(e)?ne(e,{starts:e.starts?ne(e.starts):null}):Object.isFrozen(e)?ne(e):e}var Lo="11.6.0";class _o extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Ve=qt,Ct=ne,Rt=Symbol("nomatch"),No=7,Io=function(e){const t=Object.create(null),n=Object.create(null),r=[];let s=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Ks};function c(h){return a.noHighlightRe.test(h)}function l(h){let E=h.className+" ";E+=h.parentNode?h.parentNode.className:"";const A=a.languageDetectRe.exec(E);if(A){const C=Y(A[1]);return C||(Ot(i.replace("{}",A[1])),Ot("Falling back to no-highlight mode for this block.",h)),C?A[1]:"no-highlight"}return E.split(/\s+/).find(C=>c(C)||Y(C))}function d(h,E,A){let C="",H="";typeof E=="object"?(C=h,A=E.ignoreIllegals,H=E.language):(de("10.7.0","highlight(lang, code, ...args) has been deprecated."),de("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),H=h,C=E),A===void 0&&(A=!0);const V={code:C,language:H};Ee("before:highlight",V);const Z=V.result?V.result:u(V.language,V.code,A);return Z.code=V.code,Ee("after:highlight",Z),Z}function u(h,E,A,C){const H=Object.create(null);function V(m,w){return m.keywords[w]}function Z(){if(!x.keywords){P.addText(R);return}let m=0;x.keywordPatternRe.lastIndex=0;let w=x.keywordPatternRe.exec(R),v="";for(;w;){v+=R.substring(m,w.index);const O=te.case_insensitive?w[0].toLowerCase():w[0],D=V(x,O);if(D){const[Q,hn]=D;if(P.addText(v),v="",H[O]=(H[O]||0)+1,H[O]<=No&&(Te+=hn),Q.startsWith("_"))v+=w[0];else{const mn=te.classNameAliases[Q]||Q;P.addKeyword(w[0],mn)}}else v+=w[0];m=x.keywordPatternRe.lastIndex,w=x.keywordPatternRe.exec(R)}v+=R.substring(m),P.addText(v)}function Se(){if(R==="")return;let m=null;if(typeof x.subLanguage=="string"){if(!t[x.subLanguage]){P.addText(R);return}m=u(x.subLanguage,R,!0,mt[x.subLanguage]),mt[x.subLanguage]=m._top}else m=p(R,x.subLanguage.length?x.subLanguage:null);x.relevance>0&&(Te+=m.relevance),P.addSublanguage(m._emitter,m.language)}function K(){x.subLanguage!=null?Se():Z(),R=""}function ee(m,w){let v=1;const O=w.length-1;for(;v<=O;){if(!m._emit[v]){v++;continue}const D=te.classNameAliases[m[v]]||m[v],Q=w[v];D?P.addKeyword(Q,D):(R=Q,Z(),R=""),v++}}function ft(m,w){return m.scope&&typeof m.scope=="string"&&P.openNode(te.classNameAliases[m.scope]||m.scope),m.beginScope&&(m.beginScope._wrap?(P.addKeyword(R,te.classNameAliases[m.beginScope._wrap]||m.beginScope._wrap),R=""):m.beginScope._multi&&(ee(m.beginScope,w),R="")),x=Object.create(m,{parent:{value:x}}),x}function pt(m,w,v){let O=qs(m.endRe,v);if(O){if(m["on:end"]){const D=new xt(m);m["on:end"](w,D),D.isMatchIgnored&&(O=!1)}if(O){for(;m.endsParent&&m.parent;)m=m.parent;return m}}if(m.endsWithParent)return pt(m.parent,w,v)}function ln(m){return x.matcher.regexIndex===0?(R+=m[0],1):(Fe=!0,0)}function un(m){const w=m[0],v=m.rule,O=new xt(v),D=[v.__beforeBegin,v["on:begin"]];for(const Q of D)if(Q&&(Q(m,O),O.isMatchIgnored))return ln(w);return v.skip?R+=w:(v.excludeBegin&&(R+=w),K(),!v.returnBegin&&!v.excludeBegin&&(R=w)),ft(v,m),v.returnBegin?0:w.length}function dn(m){const w=m[0],v=E.substring(m.index),O=pt(x,m,v);if(!O)return Rt;const D=x;x.endScope&&x.endScope._wrap?(K(),P.addKeyword(w,x.endScope._wrap)):x.endScope&&x.endScope._multi?(K(),ee(x.endScope,m)):D.skip?R+=w:(D.returnEnd||D.excludeEnd||(R+=w),K(),D.excludeEnd&&(R=w));do x.scope&&P.closeNode(),!x.skip&&!x.subLanguage&&(Te+=x.relevance),x=x.parent;while(x!==O.parent);return O.starts&&ft(O.starts,m),D.returnEnd?0:w.length}function fn(){const m=[];for(let w=x;w!==te;w=w.parent)w.scope&&m.unshift(w.scope);m.forEach(w=>P.openNode(w))}let xe={};function ht(m,w){const v=w&&w[0];if(R+=m,v==null)return K(),0;if(xe.type==="begin"&&w.type==="end"&&xe.index===w.index&&v===""){if(R+=E.slice(w.index,w.index+1),!s){const O=new Error(`0 width match regex (${h})`);throw O.languageName=h,O.badRule=xe.rule,O}return 1}if(xe=w,w.type==="begin")return un(w);if(w.type==="illegal"&&!A){const O=new Error('Illegal lexeme "'+v+'" for mode "'+(x.scope||"<unnamed>")+'"');throw O.mode=x,O}else if(w.type==="end"){const O=dn(w);if(O!==Rt)return O}if(w.type==="illegal"&&v==="")return 1;if(je>1e5&&je>w.index*3)throw new Error("potential infinite loop, way more iterations than matches");return R+=v,v.length}const te=Y(h);if(!te)throw ie(i.replace("{}",h)),new Error('Unknown language: "'+h+'"');const pn=Co(te);let De="",x=C||pn;const mt={},P=new a.__emitter(a);fn();let R="",Te=0,se=0,je=0,Fe=!1;try{for(x.matcher.considerAll();;){je++,Fe?Fe=!1:x.matcher.considerAll(),x.matcher.lastIndex=se;const m=x.matcher.exec(E);if(!m)break;const w=E.substring(se,m.index),v=ht(w,m);se=m.index+v}return ht(E.substring(se)),P.closeAllNodes(),P.finalize(),De=P.toHTML(),{language:h,value:De,relevance:Te,illegal:!1,_emitter:P,_top:x}}catch(m){if(m.message&&m.message.includes("Illegal"))return{language:h,value:Ve(E),illegal:!0,relevance:0,_illegalBy:{message:m.message,index:se,context:E.slice(se-100,se+100),mode:m.mode,resultSoFar:De},_emitter:P};if(s)return{language:h,value:Ve(E),illegal:!1,relevance:0,errorRaised:m,_emitter:P,_top:x};throw m}}function f(h){const E={value:Ve(h),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return E._emitter.addText(h),E}function p(h,E){E=E||a.languages||Object.keys(t);const A=f(h),C=E.filter(Y).filter(dt).map(K=>u(K,h,!1));C.unshift(A);const H=C.sort((K,ee)=>{if(K.relevance!==ee.relevance)return ee.relevance-K.relevance;if(K.language&&ee.language){if(Y(K.language).supersetOf===ee.language)return 1;if(Y(ee.language).supersetOf===K.language)return-1}return 0}),[V,Z]=H,Se=V;return Se.secondBest=Z,Se}function g(h,E,A){const C=E&&n[E]||A;h.classList.add("hljs"),h.classList.add(`language-${C}`)}function b(h){let E=null;const A=l(h);if(c(A))return;if(Ee("before:highlightElement",{el:h,language:A}),h.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(h)),a.throwUnescapedHTML))throw new _o("One of your code blocks includes unescaped HTML.",h.innerHTML);E=h;const C=E.textContent,H=A?d(C,{language:A,ignoreIllegals:!0}):p(C);h.innerHTML=H.value,g(h,A,H.language),h.result={language:H.language,re:H.relevance,relevance:H.relevance},H.secondBest&&(h.secondBest={language:H.secondBest.language,relevance:H.secondBest.relevance}),Ee("after:highlightElement",{el:h,result:H,text:C})}function M(h){a=Ct(a,h)}const k=()=>{I(),de("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){I(),de("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let L=!1;function I(){if(document.readyState==="loading"){L=!0;return}document.querySelectorAll(a.cssSelector).forEach(b)}function B(){L&&I()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",B,!1);function F(h,E){let A=null;try{A=E(e)}catch(C){if(ie("Language definition for '{}' could not be registered.".replace("{}",h)),s)ie(C);else throw C;A=o}A.name||(A.name=h),t[h]=A,A.rawDefinition=E.bind(null,e),A.aliases&&ut(A.aliases,{languageName:h})}function J(h){delete t[h];for(const E of Object.keys(n))n[E]===h&&delete n[E]}function he(){return Object.keys(t)}function Y(h){return h=(h||"").toLowerCase(),t[h]||t[n[h]]}function ut(h,{languageName:E}){typeof h=="string"&&(h=[h]),h.forEach(A=>{n[A.toLowerCase()]=E})}function dt(h){const E=Y(h);return E&&!E.disableAutodetect}function on(h){h["before:highlightBlock"]&&!h["before:highlightElement"]&&(h["before:highlightElement"]=E=>{h["before:highlightBlock"](Object.assign({block:E.el},E))}),h["after:highlightBlock"]&&!h["after:highlightElement"]&&(h["after:highlightElement"]=E=>{h["after:highlightBlock"](Object.assign({block:E.el},E))})}function an(h){on(h),r.push(h)}function Ee(h,E){const A=h;r.forEach(function(C){C[A]&&C[A](E)})}function cn(h){return de("10.7.0","highlightBlock will be removed entirely in v12.0"),de("10.7.0","Please use highlightElement now."),b(h)}Object.assign(e,{highlight:d,highlightAuto:p,highlightAll:I,highlightElement:b,highlightBlock:cn,configure:M,initHighlighting:k,initHighlightingOnLoad:S,registerLanguage:F,unregisterLanguage:J,listLanguages:he,getLanguage:Y,registerAliases:ut,autoDetection:dt,inherit:Ct,addPlugin:an}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=Lo,e.regex={concat:ue,lookahead:Jt,either:at,optional:Gs,anyNumberOfTimes:Ws};for(const h in ve)typeof ve[h]=="object"&&st.exports(ve[h]);return Object.assign(e,ve),e};var Me=Io({}),Ho=Me;Me.HighlightJS=Me;Me.default=Me;var Bo=Ho;function sn(e,t=[]){return e.map(n=>{const r=[...t,...n.properties?n.properties.className:[]];return n.children?sn(n.children,r):{text:n.value,classes:r}}).flat()}function Lt(e){return e.value||e.children||[]}function Po(e){return!!Bo.getLanguage(e)}function _t({doc:e,name:t,lowlight:n,defaultLanguage:r}){const s=[];return Qe(e,i=>i.type.name===t).forEach(i=>{let o=i.pos+1;const a=i.node.attrs.language||r,c=n.listLanguages(),l=a&&(c.includes(a)||Po(a))?Lt(n.highlight(a,i.node.textContent)):Lt(n.highlightAuto(i.node.textContent));sn(l).forEach(d=>{const u=o+d.text.length;if(d.classes.length){const f=yn.inline(o,u,{class:d.classes.join(" ")});s.push(f)}o=u})}),Mn.create(e,s)}function $o(e){return typeof e=="function"}function Do({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(s=>$o(t[s])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new X({key:new le("lowlight"),state:{init:(s,{doc:i})=>_t({doc:i,name:e,lowlight:t,defaultLanguage:n}),apply:(s,i,o,a)=>{const c=o.selection.$head.parent.type.name,l=a.selection.$head.parent.type.name,d=Qe(o.doc,f=>f.type.name===e),u=Qe(a.doc,f=>f.type.name===e);return s.docChanged&&([c,l].includes(e)||u.length!==d.length||s.steps.some(f=>f.from!==void 0&&f.to!==void 0&&d.some(p=>p.pos>=f.from&&p.pos+p.node.nodeSize<=f.to)))?_t({doc:s.doc,name:e,lowlight:t,defaultLanguage:n}):i.map(s.mapping,s.doc)}},props:{decorations(s){return r.getState(s)}}});return r}const aa=Vt.extend({addOptions(){var e;return{...(e=this.parent)===null||e===void 0?void 0:e.call(this),lowlight:{},defaultLanguage:null}},addProseMirrorPlugins(){var e;return[...((e=this.parent)===null||e===void 0?void 0:e.call(this))||[],Do({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),ca=G.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",N(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=we(e,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:t.unsetMark(this.name)}}}}),la=z.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),jo=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,Fo=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,ua=G.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",N(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ae({find:jo,type:this.type})]},addPasteRules(){return[ce({find:Fo,type:this.type})]}}),zo=j.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",N(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Uo=_({find:/--$/,replace:"—"}),Ko=_({find:/\.\.\.$/,replace:"…"}),Wo=_({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:"“"}),Go=_({find:/"$/,replace:"”"}),Vo=_({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:"‘"}),qo=_({find:/'$/,replace:"’"}),Jo=_({find:/<-$/,replace:"←"}),Qo=_({find:/->$/,replace:"→"}),Xo=_({find:/\(c\)$/,replace:"©"}),Yo=_({find:/\(tm\)$/,replace:"™"}),Zo=_({find:/\(sm\)$/,replace:"℠"}),ei=_({find:/\(r\)$/,replace:"®"}),ti=_({find:/(?:^|\s)(1\/2)$/,replace:"½"}),ni=_({find:/\+\/-$/,replace:"±"}),ri=_({find:/!=$/,replace:"≠"}),si=_({find:/<<$/,replace:"«"}),oi=_({find:/>>$/,replace:"»"}),ii=_({find:/\d+\s?([*x])\s?\d+$/,replace:"×"}),ai=_({find:/\^2$/,replace:"²"}),ci=_({find:/\^3$/,replace:"³"}),li=_({find:/(?:^|\s)(1\/4)$/,replace:"¼"}),ui=_({find:/(?:^|\s)(3\/4)$/,replace:"¾"}),da=z.create({name:"typography",addInputRules(){const e=[];return this.options.emDash!==!1&&e.push(Uo),this.options.ellipsis!==!1&&e.push(Ko),this.options.openDoubleQuote!==!1&&e.push(Wo),this.options.closeDoubleQuote!==!1&&e.push(Go),this.options.openSingleQuote!==!1&&e.push(Vo),this.options.closeSingleQuote!==!1&&e.push(qo),this.options.leftArrow!==!1&&e.push(Jo),this.options.rightArrow!==!1&&e.push(Qo),this.options.copyright!==!1&&e.push(Xo),this.options.trademark!==!1&&e.push(Yo),this.options.servicemark!==!1&&e.push(Zo),this.options.registeredTrademark!==!1&&e.push(ei),this.options.oneHalf!==!1&&e.push(ti),this.options.plusMinus!==!1&&e.push(ni),this.options.notEqual!==!1&&e.push(ri),this.options.laquo!==!1&&e.push(si),this.options.raquo!==!1&&e.push(oi),this.options.multiplication!==!1&&e.push(ii),this.options.superscriptTwo!==!1&&e.push(ai),this.options.superscriptThree!==!1&&e.push(ci),this.options.oneQuarter!==!1&&e.push(li),this.options.threeQuarters!==!1&&e.push(ui),e}});class di extends Ps{constructor(){super(...arguments),this.contentComponent=null}}const fi=({renderers:e})=>q.createElement(q.Fragment,null,Object.entries(e).map(([t,n])=>wn.createPortal(n.reactElement,n.element,t)));class pi extends q.Component{constructor(t){super(t),this.editorContentRef=q.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:t}=this.props;if(t&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=this,t.createNodeViews(),this.initialized=!0}}maybeFlushSync(t){this.initialized?kn.flushSync(t):t()}setRenderer(t,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[t]:n}}))})}removeRenderer(t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[t],{renderers:r}})})}componentWillUnmount(){const{editor:t}=this.props;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,...n}=this.props;return q.createElement(q.Fragment,null,q.createElement("div",{ref:this.editorContentRef,...n}),q.createElement(fi,{renderers:this.state.renderers}))}}const fa=q.memo(pi),hi=U.createContext({onDragStart:void 0}),mi=()=>U.useContext(hi);q.forwardRef((e,t)=>{const{onDragStart:n}=mi(),r=e.as||"div";return q.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function gi(){const[,e]=U.useState(0);return()=>e(t=>t+1)}const pa=(e={},t=[])=>{const[n,r]=U.useState(null),s=gi(),{onBeforeCreate:i,onBlur:o,onCreate:a,onDestroy:c,onFocus:l,onSelectionUpdate:d,onTransaction:u,onUpdate:f}=e,p=U.useRef(i),g=U.useRef(o),b=U.useRef(a),M=U.useRef(c),k=U.useRef(l),S=U.useRef(d),L=U.useRef(u),I=U.useRef(f);return U.useEffect(()=>{n&&(i&&(n.off("beforeCreate",p.current),n.on("beforeCreate",i),p.current=i),o&&(n.off("blur",g.current),n.on("blur",o),g.current=o),a&&(n.off("create",b.current),n.on("create",a),b.current=a),c&&(n.off("destroy",M.current),n.on("destroy",c),M.current=c),l&&(n.off("focus",k.current),n.on("focus",l),k.current=l),d&&(n.off("selectionUpdate",S.current),n.on("selectionUpdate",d),S.current=d),u&&(n.off("transaction",L.current),n.on("transaction",u),L.current=u),f&&(n.off("update",I.current),n.on("update",f),I.current=f))},[i,o,a,c,l,d,u,f,n]),U.useEffect(()=>{let B=!0;const F=new di(e);return r(F),F.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{B&&s()})})}),()=>{F.destroy(),B=!1}},t),n},bi=/^\s*>\s$/,yi=j.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",N(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ge({find:bi,type:this.type})]}}),Mi=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,ki=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,wi=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Ei=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Si=G.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",N(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ae({find:Mi,type:this.type}),ae({find:wi,type:this.type})]},addPasteRules(){return[ce({find:ki,type:this.type}),ce({find:Ei,type:this.type})]}}),xi=j.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",N(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Nt=G.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",N(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=we(e,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:t.unsetMark(this.name)}}}}),It=/^\s*([-+*])\s$/,Ti=j.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",N(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(xi.name,this.editor.getAttributes(Nt.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=ge({find:It,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ge({find:It,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Nt.name),editor:this.editor})),[e]}}),vi=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,Ai=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,Oi=G.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",N(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ae({find:vi,type:this.type})]},addPasteRules(){return[ce({find:Ai,type:this.type})]}}),Ci=j.create({name:"doc",topNode:!0,content:"block+"}),Ri=z.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Qn(this.options)]}}),Li=z.create({name:"gapCursor",addProseMirrorPlugins(){return[Xn()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=T(y(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),_i=j.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",N(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:l,dispatch:d})=>{if(d&&c&&o){const u=c.filter(f=>a.includes(f.type.name));l.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Ni=j.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,N(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Ye({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Ii=z.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>Yn(e,t),redo:()=>({state:e,dispatch:t})=>Zn(e,t)}},addProseMirrorPlugins(){return[er(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Hi=j.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",N(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{var r;if(n){const{$to:s}=t.selection,i=s.end();if(s.nodeAfter)t.setSelection(W.create(t.doc,s.pos));else{const o=(r=s.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();o&&(t.insert(i,o),t.setSelection(W.create(t.doc,i)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[$s({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Bi=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Pi=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,$i=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Di=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,ji=G.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",N(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ae({find:Bi,type:this.type}),ae({find:$i,type:this.type})]},addPasteRules(){return[ce({find:Pi,type:this.type}),ce({find:Di,type:this.type})]}}),Fi=j.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",N(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Ht=G.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",N(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=we(e,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:t.unsetMark(this.name)}}}}),Bt=/^(\d+)\.\s$/,zi=j.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",N(this.options.HTMLAttributes,n),0]:["ol",N(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Fi.name,this.editor.getAttributes(Ht.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=ge({find:Bt,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ge({find:Bt,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Ht.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Ui=j.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",N(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ki=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Wi=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Gi=G.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",N(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ae({find:Ki,type:this.type})]},addPasteRules(){return[ce({find:Wi,type:this.type})]}}),Vi=j.create({name:"text",group:"inline"}),ha=z.create({name:"starterKit",addExtensions(){var e,t,n,r,s,i,o,a,c,l,d,u,f,p,g,b,M,k;const S=[];return this.options.blockquote!==!1&&S.push(yi.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bold!==!1&&S.push(Si.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&S.push(Ti.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&S.push(Oi.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&S.push(Vt.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&S.push(Ci.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&S.push(Ri.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&S.push(Li.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&S.push(_i.configure((c=this.options)===null||c===void 0?void 0:c.hardBreak)),this.options.heading!==!1&&S.push(Ni.configure((l=this.options)===null||l===void 0?void 0:l.heading)),this.options.history!==!1&&S.push(Ii.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&S.push(Hi.configure((u=this.options)===null||u===void 0?void 0:u.horizontalRule)),this.options.italic!==!1&&S.push(ji.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&S.push(zo.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&S.push(zi.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&S.push(Ui.configure((b=this.options)===null||b===void 0?void 0:b.paragraph)),this.options.strike!==!1&&S.push(Gi.configure((M=this.options)===null||M===void 0?void 0:M.strike)),this.options.text!==!1&&S.push(Vi.configure((k=this.options)===null||k===void 0?void 0:k.text)),S}});export{la as C,z as E,ua as H,zo as L,ha as S,da as T,ca as a,aa as b,fa as c,_ as t,pa as u};
