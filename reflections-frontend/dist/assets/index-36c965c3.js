var de=Object.defineProperty;var fe=(s,l,o)=>l in s?de(s,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[l]=o;var H=(s,l,o)=>(fe(s,typeof l!="symbol"?l+"":l,o),o);import{r,j as t,R as ue}from"./react-d39729e7.js";import{c as pe}from"./react-dom-eb291ab4.js";import{d as w}from"./dayjs-afe83796.js";import{a as K}from"./axios-28bc18a3.js";import{o as xe}from"./jwt-decode-9c18df67.js";import{E as me,t as e,u as V,T as Y,H as G,C as J,a as E,L as Q,S as W,b as Z}from"./@tiptap-330b5d3f.js";import{a as L,b as ee,d as he,e as ge,f as I}from"./react-router-6ab5a7f0.js";import{L as te,B as be}from"./react-router-dom-2f9d2c86.js";import"./scheduler-765c72db.js";import"./prosemirror-state-d99efc48.js";import"./prosemirror-model-714031c1.js";import"./orderedmap-1b52af60.js";import"./prosemirror-transform-4fc52813.js";import"./prosemirror-view-d12f7755.js";import"./prosemirror-keymap-8634b7a8.js";import"./w3c-keyname-a25e4cc1.js";import"./prosemirror-commands-175c63be.js";import"./prosemirror-schema-list-771d4f75.js";import"./prosemirror-dropcursor-da1713bb.js";import"./prosemirror-gapcursor-5148966c.js";import"./prosemirror-history-1f4dfada.js";import"./rope-sequence-5ceeafee.js";import"./@remix-run-1dd2da88.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function o(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(i){if(i.ep)return;i.ep=!0;const a=o(i);fetch(i.href,a)}})();class $e{constructor(l,o){H(this,"endpoint");H(this,"apiClient");this.endpoint=l,this.apiClient=o}get(l){return this.apiClient.get(this.endpoint+l)}post(l,o){return this.apiClient.post(this.endpoint+l,o)}put(l,o){return this.apiClient.put(this.endpoint+"/"+l,o)}delete(l){return this.apiClient.delete(this.endpoint+"/"+l)}}const ne=(s,l)=>new $e(s,l),ve=()=>se.post("/api/user/refresh"),se=K.create({baseURL:""}),le=K.create({baseURL:"",withCredentials:!0});le.interceptors.request.use(s=>{const l=localStorage.getItem("accessToken"),o=new Date;let c,i;return l&&(c=xe(l),i=c.exp),i&&i*1e3<o.getTime()||!l?ve().then(f=>{f.data.accessToken&&(localStorage.setItem("accessToken",f.data.accessToken),s.headers.Authorization=`Bearer ${f.data.accessToken}`)}).catch(()=>{console.log("Session Expired/No access token"),window.location.href="/login"}):s.headers.Authorization=`Bearer ${l}`,s});const D=ne("/api/content",le),q=ne("/api/user",se),je=me.create({name:"smilieReplacer",addInputRules(){return[e({find:/-___- $/,replace:"😑 "}),e({find:/:'-\) $/,replace:"😂 "}),e({find:/':-\) $/,replace:"😅 "}),e({find:/':-D $/,replace:"😅 "}),e({find:/>:-\) $/,replace:"😆 "}),e({find:/-__- $/,replace:"😑 "}),e({find:/':-\( $/,replace:"😓 "}),e({find:/:'-\( $/,replace:"😢 "}),e({find:/>:-\( $/,replace:"😠 "}),e({find:/O:-\) $/,replace:"😇 "}),e({find:/0:-3 $/,replace:"😇 "}),e({find:/0:-\) $/,replace:"😇 "}),e({find:/0;\^\) $/,replace:"😇 "}),e({find:/O;-\) $/,replace:"😇 "}),e({find:/0;-\) $/,replace:"😇 "}),e({find:/O:-3 $/,replace:"😇 "}),e({find:/:'\) $/,replace:"😂 "}),e({find:/:-D $/,replace:"😃 "}),e({find:/':\) $/,replace:"😅 "}),e({find:/'=\) $/,replace:"😅 "}),e({find:/':D $/,replace:"😅 "}),e({find:/'=D $/,replace:"😅 "}),e({find:/>:\) $/,replace:"😆 "}),e({find:/>;\) $/,replace:"😆 "}),e({find:/>=\) $/,replace:"😆 "}),e({find:/;-\) $/,replace:"😉 "}),e({find:/\*-\) $/,replace:"😉 "}),e({find:/;-\] $/,replace:"😉 "}),e({find:/;\^\) $/,replace:"😉 "}),e({find:/B-\) $/,replace:"😎 "}),e({find:/8-\) $/,replace:"😎 "}),e({find:/B-D $/,replace:"😎 "}),e({find:/8-D $/,replace:"😎 "}),e({find:/:-\* $/,replace:"😘 "}),e({find:/:\^\* $/,replace:"😘 "}),e({find:/:-\) $/,replace:"🙂 "}),e({find:/-_- $/,replace:"😑 "}),e({find:/:-X $/,replace:"😶 "}),e({find:/:-# $/,replace:"😶 "}),e({find:/:-x $/,replace:"😶 "}),e({find:/>.< $/,replace:"😣 "}),e({find:/:-O $/,replace:"😮 "}),e({find:/:-o $/,replace:"😮 "}),e({find:/O_O $/,replace:"😮 "}),e({find:/>:O $/,replace:"😮 "}),e({find:/:-P $/,replace:"😛 "}),e({find:/:-p $/,replace:"😛 "}),e({find:/:-Þ $/,replace:"😛 "}),e({find:/:-þ $/,replace:"😛 "}),e({find:/:-b $/,replace:"😛 "}),e({find:/>:P $/,replace:"😜 "}),e({find:/X-P $/,replace:"😜 "}),e({find:/x-p $/,replace:"😜 "}),e({find:/':\( $/,replace:"😓 "}),e({find:/'=\( $/,replace:"😓 "}),e({find:/>:\\ $/,replace:"😕 "}),e({find:/>:\/ $/,replace:"😕 "}),e({find:/:-\/ $/,replace:"😕 "}),e({find:/:-. $/,replace:"😕 "}),e({find:/>:\[ $/,replace:"😞 "}),e({find:/:-\( $/,replace:"😞 "}),e({find:/:-\[ $/,replace:"😞 "}),e({find:/:'\( $/,replace:"😢 "}),e({find:/;-\( $/,replace:"😢 "}),e({find:/#-\) $/,replace:"😵 "}),e({find:/%-\) $/,replace:"😵 "}),e({find:/X-\) $/,replace:"😵 "}),e({find:/>:\( $/,replace:"😠 "}),e({find:/0:3 $/,replace:"😇 "}),e({find:/0:\) $/,replace:"😇 "}),e({find:/O:\) $/,replace:"😇 "}),e({find:/O=\) $/,replace:"😇 "}),e({find:/O:3 $/,replace:"😇 "}),e({find:/<\/3 $/,replace:"💔 "}),e({find:/:D $/,replace:"😃 "}),e({find:/=D $/,replace:"😃 "}),e({find:/;\) $/,replace:"😉 "}),e({find:/\*\) $/,replace:"😉 "}),e({find:/;\] $/,replace:"😉 "}),e({find:/;D $/,replace:"😉 "}),e({find:/B\) $/,replace:"😎 "}),e({find:/8\) $/,replace:"😎 "}),e({find:/:\* $/,replace:"😘 "}),e({find:/=\* $/,replace:"😘 "}),e({find:/:\) $/,replace:"🙂 "}),e({find:/=\] $/,replace:"🙂 "}),e({find:/=\) $/,replace:"🙂 "}),e({find:/:\] $/,replace:"🙂 "}),e({find:/:X $/,replace:"😶 "}),e({find:/:# $/,replace:"😶 "}),e({find:/=X $/,replace:"😶 "}),e({find:/=x $/,replace:"😶 "}),e({find:/:x $/,replace:"😶 "}),e({find:/=# $/,replace:"😶 "}),e({find:/:O $/,replace:"😮 "}),e({find:/:o $/,replace:"😮 "}),e({find:/:P $/,replace:"😛 "}),e({find:/=P $/,replace:"😛 "}),e({find:/:p $/,replace:"😛  "}),e({find:/=p $/,replace:"😛 "}),e({find:/:Þ $/,replace:"😛 "}),e({find:/:þ $/,replace:"😛 "}),e({find:/:b $/,replace:"😛 "}),e({find:/d: $/,replace:"😛 "}),e({find:/:\/ $/,replace:"😕 "}),e({find:/:\\ $/,replace:"😕 "}),e({find:/=\/ $/,replace:"😕 "}),e({find:/=\\ $/,replace:"😕 "}),e({find:/:L $/,replace:"😕 "}),e({find:/=L $/,replace:"😕 "}),e({find:/:\( $/,replace:"😞 "}),e({find:/:\[ $/,replace:"😞 "}),e({find:/=\( $/,replace:"😞 "}),e({find:/;\( $/,replace:"😢 "}),e({find:/D: $/,replace:"😨 "}),e({find:/:\$ $/,replace:"😳 "}),e({find:/=\$ $/,replace:"😳 "}),e({find:/#\) $/,replace:"😵 "}),e({find:/%\) $/,replace:"😵 "}),e({find:/X\) $/,replace:"😵 "}),e({find:/:@ $/,replace:"😠 "}),e({find:/<3 $/,replace:"❤️ "}),e({find:/\/shrug $/,replace:"¯\\_(ツ)_/¯"})]}});const Ne=({editor:s})=>{if(!s)return null;const l=L();return t.jsx("div",{className:"flex justify-center text-[17px]",children:t.jsxs("div",{className:"customScroll mx-4 mt-8 flex gap-1 overflow-auto rounded-lg bg-[#363636] px-2 py-[5px] text-[#a1a1a1]",children:[t.jsx("button",{onClick:()=>s.chain().focus().toggleBold().run(),disabled:!s.can().chain().focus().toggleBold().run(),className:`flex ${s.isActive("bold")?"is-active":""} rounded-md px-2 py-0.5`,children:"bold"}),t.jsx("button",{onClick:()=>s.chain().focus().toggleItalic().run(),disabled:!s.can().chain().focus().toggleItalic().run(),className:`flex ${s.isActive("italic")?"is-active":""} rounded-md px-2 py-0.5 `,children:"italic"}),t.jsx("button",{onClick:()=>s.chain().focus().toggleCode().run(),disabled:!s.can().chain().focus().toggleCode().run(),className:`flex ${s.isActive("code")?"is-active":""} rounded-md px-2 py-0.5 `,children:"code"}),t.jsx("button",{onClick:()=>s.chain().focus().setParagraph().run(),className:`${s.isActive("paragraph")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"paragraph"}),t.jsx("button",{onClick:()=>s.chain().focus().toggleHeading({level:1}).run(),className:`${s.isActive("heading",{level:1})?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"heading"}),t.jsx("button",{onClick:()=>s.chain().focus().toggleBulletList().run(),className:`${s.isActive("bulletList")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"list"}),t.jsx("button",{onClick:()=>s.chain().focus().toggleCodeBlock().run(),className:`${s.isActive("codeBlock")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"codeblock"}),t.jsx("button",{onClick:()=>s.chain().focus().toggleBlockquote().run(),className:`${s.isActive("blockquote")?"is-active":""} flex rounded-md px-2 py-0.5 `,children:"blockquote"}),t.jsx("button",{onClick:()=>s.chain().focus().setHorizontalRule().run(),className:"flex rounded-md px-2 py-0.5  ",children:"rule"}),t.jsx("button",{onClick:()=>s.chain().focus().toggleHighlight({color:"#b197fc"}).setColor(s!=null&&s.isActive("highlight",{color:"#b197fc"})?"":"#000000").run(),className:`${s.isActive("highlight",{color:"#b197fc"})?"is-active":""}
				flex rounded-md px-2 py-0.5 `,children:"highlight"}),t.jsx("button",{onClick:()=>s.chain().focus().unsetAllMarks().run(),className:"flex rounded-md px-2 py-0.5  ",children:"clrm"}),t.jsx("button",{onClick:()=>s.chain().focus().clearNodes().run(),className:"flex rounded-md px-2 py-0.5  ",children:"clrn"}),t.jsx("button",{onClick:()=>s.chain().focus().undo().run(),disabled:!s.can().chain().focus().undo().run(),className:"flex rounded-md px-2 py-0.5  ",children:"undo"}),t.jsx("button",{onClick:()=>s.chain().focus().redo().run(),disabled:!s.can().chain().focus().redo().run(),className:"flex rounded-md px-2 py-0.5  ",children:"redo"}),t.jsx("button",{className:"flex rounded-md px-2 py-0.5 hover:border-0 hover:bg-[#da6888] hover:font-semibold hover:text-stone-900",onClick:()=>{q.get("/logout"),localStorage.removeItem("userName"),localStorage.removeItem("recentsCount"),localStorage.removeItem("accessToken"),l("/login")},children:"logout"})]})})},we=({editorValue:s,setEditorValue:l,title:o,changeNote:c,setChangeNote:i})=>{const a=V({extensions:[Y,G.configure({multicolor:!0}),J.configure({types:[E.name,Q.name]}),E.configure(),W.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}}),je],onUpdate:({editor:p})=>{const v=p.getHTML();f(v)},content:s,editable:!0});r.useEffect(()=>{c&&(a==null||a.commands.setContent(s),i(!1))},[c]);const f=p=>{l(p)};return t.jsxs("div",{className:"customScroll flex h-full w-full flex-col gap-5 overflow-auto bg-[#1f1f1f]",children:[t.jsx(Ne,{editor:a}),t.jsx("input",{className:"mx-8 mt-8 flex w-1/4 border-b-2 border-[#515151] bg-transparent text-xl font-semibold text-[#dadada]",placeholder:"title goes here",ref:o}),t.jsx(Z,{spellCheck:!1,editor:a,className:"customScroll mx-8 mb-12 mt-2 font-inter text-lg leading-6 text-[#c0c0c0]"})]})},ke=()=>{const[s,l]=r.useState(""),o=r.useRef(null),c=r.useRef(null),[i,a]=r.useState([]),[f,p]=r.useState([]),[v,C]=r.useState(!0),[k,g]=r.useState(!1),[h,b]=r.useState(""),[S,j]=r.useState(null),[R,M]=r.useState(0),[ae,B]=r.useState(!1),[z,N]=r.useState("Save"),[re,A]=r.useState(!1),[ce,T]=r.useState(!1),[De,$]=r.useState(""),[y,O]=r.useState(()=>{const n=localStorage.getItem("recentsCount"),d=1e7;return n!==null?parseInt(n,10):(localStorage.setItem("recentsCount",d.toString()),d)}),ie=L(),P=ee(),U=(n,d,u=!1)=>{if(!n)return;const m=w();h!==""?(N("Saving"),D.put(h,{date:m.valueOf(),title:n,notesContent:d}).then(()=>{!u&&j(m),!u&&$(d),p(x=>x.map(_=>_._id===h?{_id:h,notesContent:d,title:n,date:m}:_)),X(),setTimeout(()=>{N("Save Successful!"),setTimeout(()=>{N("Save")},1e3)},1e3)}).catch(()=>{setTimeout(()=>{N("Save Unsuccessful!"),setTimeout(()=>{N("Save")},1e3)},1e3)})):(N("Saving"),D.post("/new",{date:m.valueOf(),title:n,notesContent:d}).then(x=>{!u&&b(x.data.id),!u&&$(d),!u&&j(m),p(_=>[..._,{_id:x.data.id,notesContent:d,title:n,date:m}]),X(),setTimeout(()=>{N("Save Successful!"),setTimeout(()=>{N("Save")},1e3)},1e3)}).catch(()=>{setTimeout(()=>{N("Save Unsuccessful!"),setTimeout(()=>{N("Save")},1e3)},1e3)}))};function oe(){D.delete(h).then(()=>{$(""),l(""),g(!0),c.current.value="",j(null),p(f.filter(n=>n._id!==h)),b(""),console.log("Content Removed Successfully")}).catch(()=>{console.log("An error occurred")}),A(!1)}function F(){return new Promise(n=>{const d=setInterval(()=>{let u=!0;T(m=>(u=m,m)),u||(clearInterval(d),n("resolve confirmed"))},100)})}function X(){p(n=>n.sort((d,u)=>w(u.date).valueOf()-w(d.date).valueOf()))}return r.useEffect(()=>{D.get("/recents").then(n=>{p(n.data)}).catch(()=>{p([])})},[]),r.useEffect(()=>{P.state!==null&&P.state.noteID!==null&&(D.get("/search/"+P.state.noteID).then(n=>{b(n.data._id),l(n.data.notesContent),g(!0),c.current.value=n.data.title,j(w(n.data.date)),$(n.data.notesContent)}).catch(n=>{console.log("An error occurred",n)}),window.history.replaceState({noteID:null},document.title))},[]),r.useEffect(()=>{localStorage.setItem("recentsCount",y.toString())},[y]),t.jsxs("div",{className:"min-w-screen flex h-screen justify-center",onKeyDown:n=>{n.key==="Escape"&&(A(!1),T(!1))},children:[re&&t.jsxs("div",{className:"text-md fixed bottom-10 right-4 flex flex-col justify-center gap-3 rounded-lg bg-[#444444] px-4 py-3 font-semibold text-[#e3e3e3]",children:["Are you sure you want to delete this note?",t.jsxs("div",{className:"flex justify-end gap-2 font-semibold",children:[t.jsx("button",{className:"rounded-md bg-[#292929] px-2 py-[5px] hover:bg-[#FF6969] hover:text-black",onClick:oe,children:"Delete"}),t.jsx("button",{className:"rounded-md bg-[#292929] px-2 py-[5px] hover:bg-[#8de86b] hover:text-black",onClick:()=>A(!1),children:"Cancel"})]})]}),ce&&t.jsxs("div",{className:"text-md fixed bottom-10 right-4 flex flex-col justify-center gap-3 rounded-lg bg-[#444444] px-4 py-3 font-semibold text-[#e3e3e3]",children:["Changes made to the note are not saved",t.jsxs("div",{className:"flex justify-end gap-2 font-semibold",children:[t.jsx("button",{className:"rounded-md bg-[#292929] px-2 py-[5px] hover:bg-[#FF6969] hover:text-black",onClick:()=>{T(!1)},children:"Discard"}),t.jsx("button",{className:"rounded-md bg-[#292929] px-2 py-[5px] hover:bg-[#8de86b] hover:text-black",onClick:()=>{var n,d;(n=c.current)!=null&&n.value&&U((d=c.current)==null?void 0:d.value,s,!0),T(!1)},children:"Save"})]})]}),v&&t.jsxs("div",{className:"hidden h-screen w-0 flex-col items-center border-r-[1px] border-[#515151] bg-[#1f1f1f] md:flex md:w-1/4",children:[t.jsx("input",{className:"363636 mb-2 mt-8 h-fit w-4/5 rounded-lg bg-[#363636] px-2 py-[7px] text-[17px] font-semibold text-[#dadada]",placeholder:"Search",spellCheck:"false",ref:o,onKeyDown:n=>{n.key==="Enter"&&(a([]),B(!0),M(1),setTimeout(()=>{var d;D.post("/search",{title:(d=o.current)==null?void 0:d.value}).then(u=>{B(!1),a(u.data)}).catch(()=>{B(!1),a([])})},700))}}),t.jsx("div",{className:"flex h-full w-full flex-col items-center overflow-auto",children:t.jsxs("div",{className:"flex h-full w-11/12 flex-col items-start",children:[t.jsxs("div",{className:"mb-2 mt-4 flex w-full items-center justify-between",children:[t.jsxs("div",{className:"flex whitespace-pre-wrap text-sm text-[#a1a1a1]",children:[t.jsxs("button",{className:`${R===0&&"font-semibold text-[#dadada]"}`,onClick:()=>M(0),children:["Recents"," "]})," ","|"," ",t.jsx("button",{className:`${R===1&&"font-semibold text-[#dadada]"}`,onClick:()=>M(1),children:"Results"})]}),t.jsxs("div",{className:"flex whitespace-pre-wrap text-[#a1a1a1]",children:[t.jsxs("button",{className:`${y===5?"text-[#dadada]":""}`,onClick:()=>{O(5)},children:["5"," "]}),t.jsxs("button",{className:`${y===10?"text-[#dadada]":""}`,onClick:()=>{O(10)},children:["10"," "]}),t.jsxs("button",{className:`${y===15?"text-[#dadada]":""}`,onClick:()=>{O(15)},children:["15"," "]}),t.jsxs("button",{className:`${y===1e7?"text-[#dadada]":""}`,onClick:()=>{O(1e7)},children:["INF"," "]})]})]}),t.jsx("div",{className:"customScroll flex h-fit w-full flex-col overflow-auto",children:R===1&&i.map((n,d)=>{if(d<y)return t.jsxs("div",{className:`mb-3 w-full items-start justify-center rounded-lg ${h===n._id?"bg-[#4b4b4b]":""} bg-[#333333] px-2 py-2 hover:bg-[#4b4b4b]`,onClick:()=>{let u="",m="";$(x=>(u=x,x)),l(x=>(m=x,x)),u!==m?(T(!0),F().then(()=>{c.current.value=n.title,l(n.notesContent),$(n.notesContent),b(n._id),g(!0),j(()=>n.date?w(n.date):null)})):(c.current.value=n.title,l(n.notesContent),$(n.notesContent),b(n._id),g(!0),j(()=>n.date?w(n.date):null))},children:[t.jsxs("div",{className:"flex justify-between ",children:[t.jsx("p",{className:"text-[#e5e2e2]",children:n.title}),t.jsxs("p",{className:"text-[#bcbcbc]",children:["#",d+1]})]}),t.jsxs("p",{className:"text-[#bcbcbc]",children:["Last Edited :"," ",w(n.date).format("DD-MMM, HH:mm")]})]},n._id)})}),t.jsx("div",{className:"customScroll flex h-fit w-full flex-col overflow-auto",children:R===0&&f.map((n,d)=>{if(d<y)return t.jsxs("div",{className:`mb-3 w-full items-start justify-center rounded-lg ${h===n._id?"bg-[#4b4b4b]":""} bg-[#333333] px-2 py-2 hover:bg-[#4b4b4b]`,onClick:()=>{let u="",m="";$(x=>(u=x,x)),l(x=>(m=x,x)),u!==m?(T(!0),F().then(()=>{c.current.value=n.title,l(n.notesContent),$(n.notesContent),b(n._id),g(!0),j(()=>n.date?w(n.date):null)})):(c.current.value=n.title,l(n.notesContent),$(n.notesContent),b(n._id),g(!0),j(()=>n.date?w(n.date):null))},children:[t.jsxs("div",{className:"flex justify-between ",children:[t.jsx("p",{className:"text-[#e5e2e2]",children:n.title}),t.jsxs("p",{className:"text-[#bcbcbc]",children:["#",d+1]})]}),t.jsxs("p",{className:"text-[#bcbcbc]",children:["Last Edited :"," ",w(n.date).format("DD-MMM, HH:mm")]})]},n._id)})}),R===0&&f.length===0||R===1&&i.length===0?t.jsx("div",{className:"mt-4 flex w-11/12 items-center justify-center text-[#a1a1a1]",children:ae?"Loading":"Nothing Here"}):t.jsx("div",{className:"flex w-full pt-8"})]})})]}),t.jsx("div",{className:`flex ${v?"w-full md:w-3/4":"w-full"}`,children:t.jsx(we,{title:c,editorValue:s,setEditorValue:l,changeNote:k,setChangeNote:g})}),t.jsxs("div",{className:"fixed bottom-0 flex w-full justify-between bg-[#3c3e41] px-1 py-[1.5px]",children:[t.jsxs("div",{className:"left-0 flex",children:[t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{C(n=>!n)},children:v?"Hide Sidebar":"Show Sidebar"}),t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{a([]),l(""),g(!0),b(""),$(""),c.current.value="",o.current.value="",j(null)},children:"Clear"}),t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{l(""),g(!0),c.current.value="",b(""),$(""),j(null)},children:"New"}),t.jsx("button",{className:"font-inter text-xs tracking-wider text-white",onClick:()=>{A(!0)},disabled:h==="",children:"Delete"})]}),t.jsxs("div",{className:"right-0 flex",children:[t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{var n;ie(`${h}/reader`,{state:{title:(n=c.current)==null?void 0:n.value,value:s}})},disabled:h==="",children:"Reading Mode"}),t.jsx("button",{className:"mr-4 font-inter text-xs tracking-wider text-white",onClick:()=>{var n,d;(n=c.current)!=null&&n.value&&U((d=c.current)==null?void 0:d.value,s)},disabled:z!=="Save",children:z}),t.jsxs("p",{className:"font-inter text-xs tracking-wider text-white",children:["Last saved:"," ",S===null?"Never":S==null?void 0:S.format("DD-MMM-YYYY | HH:mm")]})]})]})]})},ye=()=>{const s=r.useRef(null),l=r.useRef(null),[o,c]=r.useState(!1),[i,a]=r.useState("Sign in"),f=L();return t.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-[#1c1c1c]",children:[t.jsx("div",{className:"fixed -top-20 left-20 z-0 rotate-180 -scale-x-100 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),t.jsx("div",{className:"fixed -bottom-20 right-20 z-0 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),t.jsx("div",{className:"z-10 flex w-3/5 flex-col items-center justify-center sm:w-1/2 md:w-[45%] lg:w-1/4",children:t.jsxs("form",{onSubmit:p=>{var v,C;p.preventDefault(),a("Loading..."),q.post("/login",{userName:(v=s.current)==null?void 0:v.value,password:(C=l.current)==null?void 0:C.value}).then(k=>{a("Sign in"),k.data.accessToken&&(localStorage.setItem("accessToken",k.data.accessToken),localStorage.setItem("userName",s.current.value),f("/"))}).catch(k=>{console.log(k.response.data.message),a("Sign in"),c(!0)})},children:[t.jsx("div",{className:"mb-8 w-full justify-center text-center font-serif text-2xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Sign in to your Account"}),t.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Username",autoComplete:"username",ref:s,required:!0,spellCheck:!1}),t.jsx("input",{type:"password",className:"text-md w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Password",autoComplete:"current-password",ref:l,required:!0,spellCheck:!1}),t.jsx("button",{className:`text-md mt-4 w-full rounded-md ${o?"bg-[#89375f] text-white":"bg-[#61a7ec] text-black"} px-3 py-2 font-serif font-bold `,type:"submit",children:i}),t.jsx("div",{className:"w-full text-center",children:t.jsxs("p",{className:"mt-5 font-inter text-sm font-bold text-[#dadada]",children:["Don't have an account yet,"," ",t.jsx(te,{className:"font-bold text-white",to:"/signup",children:"sign up."})]})})]})})]})},Ce=()=>{const s=r.useRef(null),l=r.useRef(null),o=r.useRef(null),c=r.useRef(null),[i,a]=r.useState("Sign up"),[f,p]=r.useState(!1),v=L();return t.jsxs("div",{className:"flex h-screen w-screen items-center justify-center bg-[#1c1c1c]",children:[t.jsx("div",{className:"fixed -top-20 left-20 z-0 rotate-180 -scale-x-100 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),t.jsx("div",{className:"fixed -bottom-20 right-20 z-0 font-inter text-[150px] font-bold tracking-widest text-[#f1f1f1]",children:"reflections"}),t.jsx("div",{className:"z-10 flex w-3/5 flex-col items-center justify-center sm:w-1/2 md:w-[45%] lg:w-1/4",children:t.jsxs("form",{onSubmit:C=>{var k,g,h,b;a("Loading..."),C.preventDefault(),q.post("/new",{name:(k=s.current)==null?void 0:k.value,email:(g=l.current)==null?void 0:g.value,userName:(h=o.current)==null?void 0:h.value,password:(b=c.current)==null?void 0:b.value}).then(()=>{a("Sign up"),v("/login")}).catch(S=>{console.log(S.response.data.message),p(!0),a("Sign up")})},children:[t.jsx("div",{className:"mb-8 text-center font-serif text-xl font-bold tracking-tight text-white md:text-2xl lg:text-3xl",children:"Create a New Account"}),t.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Name",autoComplete:"off",ref:s,required:!0,spellCheck:!1}),t.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Email",autoComplete:"off",ref:l,required:!0,spellCheck:!1}),t.jsx("input",{type:"text",className:"text-md mb-2 w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Username",autoComplete:"username",ref:o,required:!0,spellCheck:!1}),t.jsx("input",{type:"password",className:"text-md w-full rounded-lg bg-[#2e2e2e] p-2 font-serif text-[#f0f8ff] focus:bg-[#2e2e2e] focus:outline-none",placeholder:"Password",autoComplete:"current-password",ref:c,required:!0,spellCheck:!1}),t.jsx("button",{className:`mt-6 w-full rounded-md bg-[#61a7ec] px-3 py-2 font-serif font-bold ${f?"bg-[#89375f] text-white":"bg-[#61a7ec] text-black"}`,type:"submit",children:i})]})})]})},Se=()=>{const s=L();return r.useEffect(()=>{setTimeout(()=>{s("/",{replace:!0})},3e3)},[]),t.jsxs("div",{className:"flex h-screen w-screen flex-col items-center justify-center bg-[#1c1c1c]",children:[t.jsx("p",{className:"font-serif text-4xl font-bold text-white md:text-5xl lg:text-7xl",children:"404 Not Found"}),t.jsx("p",{className:"font-serif text-lg font-semibold text-white md:text-xl lg:text-2xl",children:"The page you are looking for does not exist."})]})},Re=()=>{var f,p;const s=he(),l=ee(),o=(f=l.state)==null?void 0:f.value,c=(p=l.state)==null?void 0:p.title,i=s.id,a=V({extensions:[Y,G.configure({multicolor:!0}),J.configure({types:[E.name,Q.name]}),E.configure(),W.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],content:o,editable:!1});return t.jsxs("div",{className:"min-w-screen flex min-h-screen justify-center bg-[#1f1f1f]",children:[t.jsx(te,{to:"/",state:{noteID:i},className:"fixed bottom-3 left-3 font-inter text-xs font-semibold text-[#e2e2e2]",children:"Back"}),t.jsxs("div",{className:"flex min-h-full w-3/4 flex-col bg-[#363636] px-8 py-6 font-inter text-white",children:[t.jsx("p",{className:"flex w-1/4 border-b-2 border-[#a3a3a3] bg-transparent text-xl font-semibold text-[#e8e8e8]",children:c}),t.jsx(Z,{className:"mt-6 text-[#e9e9e9]",editor:a,spellCheck:"false"})]})]})};function Te(){return t.jsxs(ge,{children:[t.jsx(I,{path:"/",element:t.jsx(ke,{})}),t.jsx(I,{path:"/:id/reader",element:t.jsx(Re,{})}),t.jsx(I,{path:"/login",element:t.jsx(ye,{})}),t.jsx(I,{path:"/signup",element:t.jsx(Ce,{})}),t.jsx(I,{path:"*",element:t.jsx(Se,{})})]})}pe.createRoot(document.getElementById("root")).render(t.jsx(be,{children:t.jsx(ue.StrictMode,{children:t.jsx(Te,{})})}));
